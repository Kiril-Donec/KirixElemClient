{"version":3,"file":"static/js/main.6536fa57.js","mappings":"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","sources":["webpack/runtime/chunk loaded","src/utils/WebSocketClient.ts","src/utils/crypto.ts","src/services/api.ts","src/components/ErrorMessage.tsx","src/screens/LoginScreen.tsx","src/components/LetterAvatar.tsx","src/components/PostCard.tsx","src/screens/FeedScreen.tsx","src/screens/ProfileScreen.tsx","src/navigation/index.tsx","App.tsx","index.ts","src/utils/disableWarnings.ts","webpack/bootstrap","webpack/runtime/compat get default export","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import { generateRSAKeys, arrayBufferToPem, pemToArrayBuffer, aesEncrypt, aesDecrypt } from './crypto';\n\nexport class WebSocketClient {\n    private url: string;\n    private socket: WebSocket | null = null;\n    private isConnected: boolean = false;\n    private rsaPublic: CryptoKey | null = null;\n    private rsaPrivate: CryptoKey | null = null;\n    private rsaPublicServer: CryptoKey | null = null;\n    private aesKey: CryptoKey | null = null;\n    private aesServerKey: CryptoKey | null = null;\n    private messageHandlers: Map<string, (data: any) => void> = new Map();\n    private connectionPromise: Promise<void> | null = null;\n    private keyExchangePromise: Promise<void> | null = null;\n    private requestTimeout: number = 10000; // 10 секунд таймаут\n\n    constructor(url: string) {\n        this.url = url;\n    }\n\n    private async performKeyExchange(): Promise<void> {\n        if (this.keyExchangePromise) {\n            return this.keyExchangePromise;\n        }\n\n        this.keyExchangePromise = new Promise(async (resolve, reject) => {\n            try {\n                // Генерируем RSA ключи\n                const { publicKey, privateKey } = await generateRSAKeys();\n                this.rsaPublic = publicKey;\n                this.rsaPrivate = privateKey;\n\n                // Отправляем публичный ключ\n                const publicKeyPem = await arrayBufferToPem(publicKey, 'PUBLIC KEY');\n                \n                const message = {\n                    type: 'key_exchange',\n                    key: publicKeyPem\n                };\n                \n                if (this.socket) {\n                    this.socket.send(JSON.stringify(message));\n                }\n\n                // Ждем ответный ключ от сервера\n                const keyExchangeHandler = async (data: any) => {\n                    if (data.type === 'key_exchange' && data.key) {\n                        try {\n                            this.rsaPublicServer = await pemToArrayBuffer(data.key);\n                            this.off('key_exchange', '');\n                            resolve();\n                        } catch (error) {\n                            reject(error);\n                        }\n                    }\n                };\n\n                this.on('key_exchange', '', keyExchangeHandler);\n\n                // Таймаут для обмена ключами\n                setTimeout(() => {\n                    this.off('key_exchange', '');\n                    reject(new Error('Key exchange timeout'));\n                }, this.requestTimeout);\n\n            } catch (error) {\n                reject(error);\n            }\n        });\n\n        return this.keyExchangePromise;\n    }\n\n    public async connect(): Promise<void> {\n        if (this.connectionPromise) {\n            return this.connectionPromise;\n        }\n\n        this.connectionPromise = new Promise((resolve, reject) => {\n            try {\n                // Создаем случайный ключ для Sec-WebSocket-Key\n                const wsKey = btoa(String.fromCharCode(...crypto.getRandomValues(new Uint8Array(16))));\n                \n                // Создаем URL с параметрами\n                const wsUrl = new URL(this.url);\n                wsUrl.searchParams.append('Sec-WebSocket-Key', wsKey);\n                wsUrl.searchParams.append('Origin', 'https://elemsocial.com');\n\n                this.socket = new WebSocket(wsUrl.toString());\n                this.socket.binaryType = 'arraybuffer';\n\n                const timeout = setTimeout(() => {\n                    if (!this.isConnected) {\n                        this.close();\n                        reject(new Error('Connection timeout'));\n                    }\n                }, this.requestTimeout);\n\n                this.socket.onopen = () => {\n                    console.log('WebSocket connected');\n                    this.isConnected = true;\n                    clearTimeout(timeout);\n\n                    this.performKeyExchange()\n                        .then(() => {\n                            console.log('Key exchange completed');\n                            resolve();\n                        })\n                        .catch((error) => {\n                            console.error('Key exchange failed:', error);\n                            this.close();\n                            reject(error);\n                        });\n                };\n\n                this.socket.onmessage = async (event) => {\n                    try {\n                        let data = JSON.parse(event.data);\n                        \n                        // Если это не обмен ключами, расшифровываем\n                        if (data.type !== 'key_exchange' && this.rsaPrivate && this.aesKey) {\n                            const decrypted = await aesDecrypt(\n                                new Uint8Array(data),\n                                this.aesKey\n                            );\n                            data = JSON.parse(decrypted);\n                        }\n\n                        console.log('WebSocket message:', data);\n\n                        const handler = this.messageHandlers.get(`${data.type}:${data.action || ''}`);\n                        if (handler) {\n                            handler(data);\n                        }\n                    } catch (error) {\n                        console.error('Error processing message:', error);\n                    }\n                };\n\n                this.socket.onerror = (error) => {\n                    console.error('WebSocket error:', error);\n                    this.isConnected = false;\n                    clearTimeout(timeout);\n                    reject(error);\n                };\n\n                this.socket.onclose = () => {\n                    console.log('WebSocket closed');\n                    this.isConnected = false;\n                    this.connectionPromise = null;\n                    this.keyExchangePromise = null;\n                    clearTimeout(timeout);\n                };\n            } catch (error) {\n                reject(error);\n            }\n        });\n\n        return this.connectionPromise;\n    }\n\n    public async send(message: any): Promise<void> {\n        if (!this.isConnected || !this.socket) {\n            await this.connect();\n        }\n\n        return new Promise(async (resolve, reject) => {\n            const timeout = setTimeout(() => {\n                reject(new Error('Send timeout'));\n            }, this.requestTimeout);\n\n            try {\n                let data = JSON.stringify(message);\n\n                // Если это не обмен ключами, шифруем\n                if (message.type !== 'key_exchange' && this.rsaPublicServer && this.aesKey) {\n                    const encrypted = await aesEncrypt(data, this.aesKey);\n                    data = JSON.stringify(encrypted);\n                }\n\n                this.socket!.send(data);\n                clearTimeout(timeout);\n                resolve();\n            } catch (error) {\n                clearTimeout(timeout);\n                reject(error);\n            }\n        });\n    }\n\n    public on(type: string, action: string, handler: (data: any) => void): void {\n        this.messageHandlers.set(`${type}:${action}`, handler);\n    }\n\n    public off(type: string, action: string): void {\n        this.messageHandlers.delete(`${type}:${action}`);\n    }\n\n    public close(): void {\n        if (this.socket) {\n            this.socket.close();\n            this.socket = null;\n            this.isConnected = false;\n            this.connectionPromise = null;\n            this.keyExchangePromise = null;\n            this.rsaPublic = null;\n            this.rsaPrivate = null;\n            this.rsaPublicServer = null;\n            this.aesKey = null;\n            this.aesServerKey = null;\n        }\n    }\n} ","// Шифрование AES\nexport async function aesEncrypt(data: string, key: CryptoKey): Promise<Uint8Array> {\n    const encoder = new TextEncoder();\n    const dataBuffer = encoder.encode(data);\n    \n    const iv = crypto.getRandomValues(new Uint8Array(12));\n    const encryptedData = await crypto.subtle.encrypt(\n        {\n            name: \"AES-GCM\",\n            iv: iv\n        },\n        key,\n        dataBuffer\n    );\n    \n    // Объединяем IV и зашифрованные данные\n    const result = new Uint8Array(iv.length + encryptedData.byteLength);\n    result.set(iv);\n    result.set(new Uint8Array(encryptedData), iv.length);\n    \n    return result;\n}\n\n// Расшифровка AES\nexport async function aesDecrypt(encryptedData: Uint8Array, key: CryptoKey): Promise<string> {\n    const iv = encryptedData.slice(0, 12);\n    const data = encryptedData.slice(12);\n    \n    const decryptedBuffer = await crypto.subtle.decrypt(\n        {\n            name: \"AES-GCM\",\n            iv: iv\n        },\n        key,\n        data\n    );\n    \n    const decoder = new TextDecoder();\n    return decoder.decode(decryptedBuffer);\n}\n\n// Генерация RSA ключей\nexport async function generateRSAKeys(): Promise<CryptoKeyPair> {\n    return await crypto.subtle.generateKey(\n        {\n            name: \"RSA-OAEP\",\n            modulusLength: 2048,\n            publicExponent: new Uint8Array([1, 0, 1]),\n            hash: \"SHA-256\"\n        },\n        true,\n        [\"encrypt\", \"decrypt\"]\n    );\n}\n\n// Преобразование ключа в PEM формат\nexport async function arrayBufferToPem(key: CryptoKey, type: string): Promise<string> {\n    const exported = await crypto.subtle.exportKey(\"spki\", key);\n    const exportedAsString = String.fromCharCode.apply(null, new Uint8Array(exported) as any);\n    const exportedAsBase64 = btoa(exportedAsString);\n    return `-----BEGIN ${type}-----\\n${exportedAsBase64}\\n-----END ${type}-----`;\n}\n\n// Преобразование PEM в ключ\nexport async function pemToArrayBuffer(pem: string): Promise<CryptoKey> {\n    const pemHeader = \"-----BEGIN PUBLIC KEY-----\";\n    const pemFooter = \"-----END PUBLIC KEY-----\";\n    const pemContents = pem.substring(\n        pemHeader.length,\n        pem.length - pemFooter.length\n    );\n    const binaryDer = atob(pemContents);\n    const arrayBuffer = new Uint8Array(binaryDer.length);\n    for (let i = 0; i < binaryDer.length; i++) {\n        arrayBuffer[i] = binaryDer.charCodeAt(i);\n    }\n    return await crypto.subtle.importKey(\n        \"spki\",\n        arrayBuffer,\n        {\n            name: \"RSA-OAEP\",\n            hash: \"SHA-256\"\n        },\n        true,\n        [\"encrypt\"]\n    );\n} ","import axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { WebSocketClient } from '../utils/WebSocketClient';\n\nconst AUTH_API_URL = 'https://api.elemsocial.com';\nconst POSTS_API_URL = 'https://elemsocial.com';\nconst SYSTEM_API_URL = 'https://elemsocial.com/System/API';\nconst WS_URL = 'wss://wselem.xyz:8880';\n\nconst authApi = axios.create({\n  baseURL: AUTH_API_URL,\n  headers: {\n    'Content-Type': 'multipart/form-data',\n    'api': 'true'\n  }\n});\n\nconst postsApi = axios.create({\n  baseURL: POSTS_API_URL,\n  headers: {\n    'Content-Type': 'multipart/form-data',\n    'api': 'true'\n  }\n});\n\nconst systemApi = axios.create({\n  baseURL: SYSTEM_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n    'api': 'true'\n  }\n});\n\nlet wsClient: WebSocketClient | null = null;\n\n// WebSocket connection handler\nexport const connectWebSocket = async (retries = 3) => {\n  if (!wsClient) {\n    wsClient = new WebSocketClient(WS_URL);\n  }\n\n  for (let i = 0; i < retries; i++) {\n    try {\n      await wsClient.connect();\n      console.log('WebSocket connected');\n\n      const sKey = await AsyncStorage.getItem('S-KEY');\n      if (!sKey) {\n        throw new Error('No S-KEY available');\n      }\n\n      return new Promise<WebSocketClient>((resolve, reject) => {\n        const authTimeout = setTimeout(() => {\n          if (wsClient) {\n            wsClient.off('authorization', 'connect');\n          }\n          reject(new Error('Authorization timeout'));\n        }, 5000);\n\n        if (!wsClient) {\n          clearTimeout(authTimeout);\n          reject(new Error('WebSocket client is null'));\n          return;\n        }\n\n        wsClient.on('authorization', 'connect', (data) => {\n          clearTimeout(authTimeout);\n          if (data.status === 'success') {\n            console.log('WebSocket authorized successfully');\n            resolve(wsClient!);\n          } else {\n            console.error('WebSocket authorization failed:', data);\n            reject(new Error(data.message || 'Authorization failed'));\n          }\n        });\n\n        wsClient.send({\n          type: 'authorization',\n          action: 'connect',\n          S_KEY: sKey\n        }).catch(reject);\n      });\n    } catch (error) {\n      console.error(`WebSocket connection attempt ${i + 1} failed:`, error);\n      if (i === retries - 1) throw error;\n      await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1))); // Увеличивающаяся задержка\n    }\n  }\n  throw new Error('Failed to connect after retries');\n};\n\n// Add interceptor to include S-KEY in requests\nauthApi.interceptors.request.use(async (config) => {\n  const sKey = await AsyncStorage.getItem('S-KEY');\n  if (sKey) {\n    config.headers['S-KEY'] = sKey;\n  }\n  return config;\n});\n\n// Add response error handling\nauthApi.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    console.error('API Error:', error?.response?.data || error.message);\n    if (error?.response?.status === 401) {\n      // Handle unauthorized error (invalid or expired S-KEY)\n      await AsyncStorage.removeItem('S-KEY');\n      // You might want to trigger a logout here\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Add interceptor to include S-KEY in requests\npostsApi.interceptors.request.use(async (config) => {\n  const sKey = await AsyncStorage.getItem('S-KEY');\n  if (sKey) {\n    config.headers['S-KEY'] = sKey;\n  }\n  return config;\n});\n\n// Add response error handling\npostsApi.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    console.error('API Error:', error?.response?.data || error.message);\n    if (error?.response?.status === 401) {\n      // Handle unauthorized error (invalid or expired S-KEY)\n      await AsyncStorage.removeItem('S-KEY');\n      // You might want to trigger a logout here\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Add interceptor to include S-KEY in requests\nsystemApi.interceptors.request.use(async (config) => {\n  const sKey = await AsyncStorage.getItem('S-KEY');\n  if (sKey) {\n    config.headers['S-KEY'] = sKey;\n  }\n  return config;\n});\n\n// Types\nexport interface LoginResponse {\n  status: 'success' | 'error';\n  S_KEY?: string;\n  accountID?: string;\n  text?: string;\n}\n\nexport interface PostResponse {\n  ID: string;\n  AuthorID: string;\n  Username: string;\n  Name: string;\n  Avatar: string | 'None';\n  UserIcons: string | null;\n  Text: string;\n  Content: string | null;\n  Date: string;\n  Likes: number;\n  Dislikes: number;\n  Liked: 'Liked' | null;\n  Disliked: 'Liked' | null;\n  Comments: number;\n  MyPost: boolean;\n}\n\nexport interface CommentResponse {\n  Name: string;\n  Username: string;\n  Avatar: string | 'None';\n  UserIcons: string | null;\n  Text: string;\n  Date: string;\n}\n\nexport interface ApiResponse {\n  Type: 'Error' | 'Verify';\n  Content: string;\n}\n\nexport interface ProfileData {\n  id: number;\n  name: string;\n  username: string;\n  avatar: string | null;\n  cover: string | null;\n  description: string | null;\n  posts: number;\n  subscribers: number;\n  subscribed: boolean;\n  create_date: string;\n  icons: string[];\n  subscriptions: number;\n  links_count: number;\n  links: any | null;\n  my_profile: boolean;\n  permissions: {\n    posts: boolean;\n    comments: boolean;\n    new_chats: boolean;\n    music_upload: boolean;\n  };\n}\n\n// Helper functions\nexport const getImageUrl = async (path: string | null | undefined): Promise<string> => {\n  if (!path || path === 'None') {\n    return '';\n  }\n  return `https://elemsocial.com/Content/Avatars/${path}`;\n};\n\n// Auth API\nexport const authAPI = {\n  login: async (email: string, password: string): Promise<LoginResponse> => {\n    const formData = new FormData();\n    formData.append('email', email);\n    formData.append('password', password);\n    formData.append('device_type', 'browser');\n    formData.append('device', 'Element Web 2.3');\n\n    const response = await fetch(`${AUTH_API_URL}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'api': 'true',\n        'Origin': 'https://elemsocial.com',\n      },\n      body: formData\n    });\n\n    const data = await response.json();\n    \n    if (data.status === 'success' && data.S_KEY) {\n      // Сохраняем S-KEY\n      await AsyncStorage.setItem('S-KEY', data.S_KEY);\n      \n      try {\n        // Подключаем и авторизуем WebSocket\n        await connectWebSocket();\n        console.log('WebSocket connected and authorized after login');\n      } catch (error) {\n        console.error('WebSocket setup failed after login:', error);\n      }\n    }\n    \n    return data;\n  },\n};\n\n// Profile API через WebSocket\nexport const profileAPI = {\n  async getMyProfile(): Promise<ProfileData> {\n    try {\n      const client = await connectWebSocket();\n      \n      return new Promise((resolve, reject) => {\n        const timeout = setTimeout(() => {\n          client.off('social', 'get_profile');\n          reject(new Error('Profile request timeout'));\n        }, 10000);\n\n        const handler = (data: any) => {\n          clearTimeout(timeout);\n          if (data.status === 'success' && data.profile) {\n            client.off('social', 'get_profile');\n            resolve(data.profile);\n          } else {\n            client.off('social', 'get_profile');\n            reject(new Error(data.message || 'Failed to fetch profile'));\n          }\n        };\n\n        client.on('social', 'get_profile', handler);\n        \n        client.send({\n          type: 'social',\n          action: 'get_profile'\n        }).catch(error => {\n          clearTimeout(timeout);\n          reject(error);\n        });\n      });\n    } catch (error) {\n      console.error('Error getting profile:', error);\n      throw error;\n    }\n  },\n\n  async getProfile(username: string): Promise<ProfileData> {\n    try {\n      const client = await connectWebSocket();\n      \n      return new Promise((resolve, reject) => {\n        const timeout = setTimeout(() => {\n          client.off('social', 'get_profile');\n          reject(new Error('Profile request timeout'));\n        }, 10000);\n\n        const handler = (data: any) => {\n          clearTimeout(timeout);\n          if (data.status === 'success' && data.profile) {\n            client.off('social', 'get_profile');\n            resolve(data.profile);\n          } else {\n            client.off('social', 'get_profile');\n            reject(new Error(data.message || 'Failed to fetch profile'));\n          }\n        };\n\n        client.on('social', 'get_profile', handler);\n        \n        client.send({\n          type: 'social',\n          action: 'get_profile',\n          username\n        }).catch(error => {\n          clearTimeout(timeout);\n          reject(error);\n        });\n      });\n    } catch (error) {\n      console.error('getProfile error:', error);\n      throw error;\n    }\n  },\n\n  updateProfile: async (data: Partial<ProfileData>): Promise<ApiResponse> => {\n    const formData = new FormData();\n    Object.entries(data).forEach(([key, value]) => {\n      if (value !== undefined && value !== null) {\n        formData.append(key, String(value));\n      }\n    });\n    const response = await postsApi.post<ApiResponse>('/System/API/Connect.php', formData);\n    return response.data;\n  },\n\n  uploadAvatar: async (file: File): Promise<ApiResponse> => {\n    const formData = new FormData();\n    formData.append('avatar', file);\n    const response = await postsApi.post<ApiResponse>('/System/API/Connect.php', formData);\n    return response.data;\n  },\n\n  uploadCover: async (file: File): Promise<ApiResponse> => {\n    const formData = new FormData();\n    formData.append('cover', file);\n    const response = await postsApi.post<ApiResponse>('/System/API/Connect.php', formData);\n    return response.data;\n  },\n};\n\n// Posts API\nexport const postsAPI = {\n  // Load single post\n  loadPost: async (postId: string): Promise<PostResponse> => {\n    const formData = new FormData();\n    formData.append('PostID', postId);\n\n    const response = await postsApi.post('/System/API/LoadPost.php', formData);\n    return response.data;\n  },\n\n  // Create post\n  createPost: async (\n    text: string,\n    files: File[] = [],\n    clearMetadata = false,\n    censoring = false\n  ): Promise<ApiResponse> => {\n    const formData = new FormData();\n    formData.append('Text', text);\n    \n    // Добавляем файлы в Files[]\n    files.forEach(file => {\n      formData.append('Files[]', file);\n    });\n\n    if (clearMetadata) {\n      formData.append('ClearMetadataIMG', 'true');\n    }\n    if (censoring) {\n      formData.append('CensoringIMG', 'true');\n    }\n\n    const response = await postsApi.post<ApiResponse>('/System/API/AddPost.php', formData);\n    return response.data;\n  },\n\n  // Get single post\n  getPost: async (postId: string): Promise<PostResponse> => {\n    const formData = new FormData();\n    formData.append('PostID', postId);\n\n    const response = await postsApi.post<PostResponse>('/System/API/LoadPost.php', formData);\n    return response.data;\n  },\n\n  getPosts: async (type: 'LATEST' | 'REC' | 'SUBSCRIPTIONS', startIndex?: number): Promise<PostResponse[]> => {\n    try {\n      const formData = new FormData();\n      formData.append('StartIndex', startIndex?.toString() || '0');\n\n      const url = `/System/API/LoadPosts.php?F=${type}`;\n      console.log('Making request to:', url);\n      console.log('With FormData:', {\n        StartIndex: startIndex?.toString() || '0'\n      });\n\n      const response = await postsApi.post(url, formData);\n      console.log(`${type} posts raw response:`, response.data);\n\n      // Ensure we have an array of posts\n      const postsArray = Array.isArray(response.data) ? response.data : [];\n      console.log('Posts array length:', postsArray.length);\n\n      // Map and validate each post\n      const posts = postsArray.map(post => ({\n        ID: String(post.ID || ''),\n        AuthorID: String(post.AuthorID || ''),\n        Username: String(post.Username || ''),\n        Name: String(post.Name || ''),\n        Avatar: post.Avatar || 'None',\n        UserIcons: post.UserIcons || null,\n        Text: String(post.Text || ''),\n        Content: post.Content || null,\n        Date: String(post.Date || ''),\n        Likes: Number(post.Likes) || 0,\n        Dislikes: Number(post.Dislikes) || 0,\n        Liked: post.Liked || null,\n        Disliked: post.Disliked || null,\n        Comments: Number(post.Comments) || 0,\n        MyPost: Boolean(post.MyPost)\n      }));\n      \n      return posts;\n    } catch (error) {\n      console.error('Error fetching posts:', error);\n      if (axios.isAxiosError(error)) {\n        console.error('Response:', error.response?.data);\n        console.error('Status:', error.response?.status);\n        console.error('Headers:', error.response?.headers);\n      }\n      return [];\n    }\n  },\n\n  getUserPosts: async (userId: string, startIndex?: number): Promise<PostResponse[]> => {\n    try {\n      const formData = new FormData();\n      formData.append('UserID', userId);\n      if (startIndex !== undefined) {\n        formData.append('StartIndex', startIndex.toString());\n      }\n\n      const url = '/System/API/LoadPosts.php?F=USER';\n      console.log('Fetching user posts, UserID:', userId, 'StartIndex:', startIndex);\n      \n      const response = await postsApi.post<any>(url, formData);\n      console.log('User posts raw response:', response.data);\n\n      // Ensure we have an array of posts\n      const postsArray = Array.isArray(response.data) ? response.data : [];\n\n      // Map and validate each post\n      const posts = postsArray.map(post => ({\n        ID: String(post.ID || ''),\n        AuthorID: String(post.AuthorID || ''),\n        Username: String(post.Username || ''),\n        Name: String(post.Name || ''),\n        Avatar: post.Avatar || 'None',\n        UserIcons: post.UserIcons || null,\n        Text: String(post.Text || ''),\n        Content: post.Content || null,\n        Date: String(post.Date || ''),\n        Likes: Number(post.Likes) || 0,\n        Dislikes: Number(post.Dislikes) || 0,\n        Liked: post.Liked || null,\n        Disliked: post.Disliked || null,\n        Comments: Number(post.Comments) || 0,\n        MyPost: Boolean(post.MyPost)\n      }));\n      \n      console.log('User posts processed:', posts);\n      return posts;\n    } catch (error) {\n      console.error('Error fetching user posts:', error);\n      return [];\n    }\n  },\n\n  // Post interactions (like, dislike, delete)\n  interactWithPost: async (\n    action: 'LIKE' | 'DISLIKE' | 'DELETE',\n    postId: string\n  ): Promise<ApiResponse> => {\n    const formData = new FormData();\n    formData.append('PostID', postId);\n\n    const response = await postsApi.post<ApiResponse>(`/System/API/PostInteraction.php?F=${action}`, formData);\n    return response.data;\n  },\n\n  // Add comment to post\n  addComment: async (postId: string, text: string): Promise<ApiResponse> => {\n    const formData = new FormData();\n    formData.append('PostID', postId);\n    formData.append('Text', text);\n\n    const response = await postsApi.post<ApiResponse>('/System/API/PostInteraction.php?F=POST_COMMENT', formData);\n    return response.data;\n  },\n\n  // Get post comments\n  getComments: async (postId: string): Promise<CommentResponse[]> => {\n    const formData = new FormData();\n    formData.append('PostID', postId);\n\n    const response = await postsApi.post<CommentResponse[]>('/System/API/PostInteraction.php?F=LOAD_COMMENT', formData);\n    return response.data;\n  },\n};\n","import React, { useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  Modal,\n  Animated,\n  Dimensions,\n  Platform,\n} from 'react-native';\n\ninterface ErrorMessageProps {\n  message: string;\n  onClose?: () => void;\n}\n\nconst { height } = Dimensions.get('window');\n\nconst ErrorMessage: React.FC<ErrorMessageProps> = ({ message, onClose }) => {\n  const translateY = new Animated.Value(height);\n\n  useEffect(() => {\n    if (message) {\n      // Анимация появления\n      Animated.spring(translateY, {\n        toValue: 0,\n        useNativeDriver: true,\n        tension: 50,\n        friction: 7,\n      }).start();\n    }\n  }, [message]);\n\n  const handleClose = () => {\n    // Анимация исчезновения\n    Animated.timing(translateY, {\n      toValue: height,\n      duration: 300,\n      useNativeDriver: true,\n    }).start(() => {\n      if (onClose) onClose();\n    });\n  };\n\n  if (!message) return null;\n\n  return (\n    <Modal\n      transparent\n      visible={!!message}\n      animationType=\"fade\"\n      onRequestClose={handleClose}\n    >\n      <View style={styles.overlay}>\n        <Animated.View\n          style={[\n            styles.container,\n            {\n              transform: [{ translateY }],\n            },\n          ]}\n        >\n          <View style={styles.content}>\n            <Text style={styles.title}>Ошибка</Text>\n            <Text style={styles.text}>{message}</Text>\n            <TouchableOpacity\n              style={styles.button}\n              onPress={handleClose}\n              activeOpacity={0.8}\n            >\n              <Text style={styles.buttonText}>OK</Text>\n            </TouchableOpacity>\n          </View>\n        </Animated.View>\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = StyleSheet.create({\n  overlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  container: {\n    width: '90%',\n    maxWidth: 400,\n    backgroundColor: '#fff',\n    borderRadius: 12,\n    ...(Platform.OS === 'web' ? {\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n    } : {\n      shadowColor: '#000',\n      shadowOffset: {\n        width: 0,\n        height: 2,\n      },\n      shadowOpacity: 0.25,\n      shadowRadius: 3.84,\n      elevation: 5,\n    }),\n  },\n  content: {\n    padding: 20,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#c62828',\n    marginBottom: 10,\n    textAlign: 'center',\n  },\n  text: {\n    fontSize: 16,\n    color: '#333',\n    marginBottom: 20,\n    textAlign: 'center',\n    lineHeight: 22,\n  },\n  button: {\n    backgroundColor: '#007AFF',\n    paddingVertical: 12,\n    paddingHorizontal: 30,\n    borderRadius: 8,\n    alignSelf: 'center',\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: '600',\n  },\n});\n\nexport default ErrorMessage; ","import React, { useState, useContext } from 'react';\nimport {\n  View,\n  TextInput,\n  TouchableOpacity,\n  Text,\n  StyleSheet,\n  Alert,\n  ActivityIndicator,\n  Platform,\n} from 'react-native';\nimport { authAPI } from '../services/api';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { CommonActions, useNavigation } from '@react-navigation/native';\nimport { AuthContext } from '../navigation';\nimport HCaptcha from '@hcaptcha/react-hcaptcha';\nimport ErrorMessage from '../components/ErrorMessage';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    padding: 20,\n    backgroundColor: '#fff',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 30,\n    textAlign: 'center',\n  },\n  input: {\n    height: 50,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    borderRadius: 8,\n    paddingHorizontal: 15,\n    marginBottom: 15,\n    fontSize: 16,\n    backgroundColor: '#fff',\n    ...(Platform.OS === 'web' && {\n      outlineStyle: 'none',\n      ':focus': {\n        borderColor: '#007AFF',\n      },\n    }),\n  },\n  buttonContainer: {\n    pointerEvents: 'auto',\n    marginBottom: 15,\n  },\n  button: {\n    height: 50,\n    backgroundColor: '#007AFF',\n    borderRadius: 8,\n    justifyContent: 'center',\n    alignItems: 'center',\n    ...(Platform.OS === 'web' && {\n      cursor: 'pointer',\n      ':hover': {\n        backgroundColor: '#0056b3',\n      },\n    }),\n  },\n  buttonDisabled: {\n    backgroundColor: '#ccc',\n  },\n  buttonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  switchText: {\n    color: '#007AFF',\n    textAlign: 'center',\n    marginTop: 15,\n    fontSize: 16,\n  },\n  stepText: {\n    fontSize: 18,\n    marginBottom: 15,\n    textAlign: 'center',\n  },\n});\n\nconst LoginScreen = () => {\n  const navigation = useNavigation();\n  const { setIsLoggedIn } = useContext(AuthContext);\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [loading, setLoading] = useState(false);\n  \n  // Login state\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loginError, setLoginError] = useState('');\n\n  // Registration state\n  const [name, setName] = useState('');\n  const [username, setUsername] = useState('');\n  const [regEmail, setRegEmail] = useState('');\n  const [regPassword, setRegPassword] = useState('');\n  const [captchaToken, setCaptchaToken] = useState('');\n  const [registrationError, setRegistrationError] = useState('');\n\n  const handleLogin = async () => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!email) {\n      setLoginError('Введите почту');\n      return;\n    }\n    if (!emailRegex.test(email)) {\n      setLoginError('Введите корректный email адрес');\n      return;\n    }\n    if (!password) {\n      setLoginError('Введите пароль');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await authAPI.login(email.trim(), password);\n      \n      if (response?.status === 'success' && response?.S_KEY) {\n        await AsyncStorage.setItem('S-KEY', response.S_KEY);\n        setIsLoggedIn(true);\n      } else {\n        setLoginError(response?.text || 'Неверный email или пароль');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      setLoginError('Что-то пошло не так');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRegister = async () => {\n    setRegistrationError('');\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    \n    // Валидация\n    if (!name.trim()) {\n      setRegistrationError('Введите имя');\n      return;\n    }\n    if (!username.trim()) {\n      setRegistrationError('Введите имя пользователя');\n      return;\n    }\n    if (!regEmail.trim()) {\n      setRegistrationError('Введите email');\n      return;\n    }\n    if (!emailRegex.test(regEmail.trim())) {\n      setRegistrationError('Введите корректный email адрес');\n      return;\n    }\n    if (!regPassword.trim()) {\n      setRegistrationError('Введите пароль');\n      return;\n    }\n    if (!captchaToken) {\n      setRegistrationError('Пройдите капчу');\n      return;\n    }\n\n    try {\n      setLoading(true);\n\n      const formData = new FormData();\n      formData.append('name', name.trim());\n      formData.append('username', username.trim());\n      formData.append('email', regEmail.trim());\n      formData.append('password', regPassword.trim());\n      formData.append('accept', 'true');\n      formData.append('h_captcha', captchaToken);\n\n      const response = await fetch('https://api.elemsocial.com/auth/register', {\n        method: 'POST',\n        headers: {\n          'api': 'true',\n          'Origin': 'https://elemsocial.com',\n        },\n        body: formData,\n      });\n\n      const data = await response.json();\n      \n      if (data.status === 'success') {\n        await AsyncStorage.setItem('S-KEY', data.S_KEY);\n        setIsLoggedIn(true);\n      } else {\n        setRegistrationError(data.text || 'Не удалось зарегистрироваться');\n      }\n    } catch (error) {\n      console.error('Registration error:', error);\n      setRegistrationError('Что-то пошло не так');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onCaptchaVerify = (token: string) => {\n    setCaptchaToken(token);\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Sigma Element Client</Text>\n      \n      {isRegistering ? (\n        <>\n          <TextInput\n            style={styles.input}\n            placeholder=\"Имя\"\n            value={name}\n            onChangeText={setName}\n            editable={!loading}\n          />\n          <TextInput\n            style={styles.input}\n            placeholder=\"Имя пользователя\"\n            value={username}\n            onChangeText={setUsername}\n            editable={!loading}\n            autoCapitalize=\"none\"\n          />\n          <TextInput\n            style={styles.input}\n            placeholder=\"Email\"\n            value={regEmail}\n            onChangeText={setRegEmail}\n            editable={!loading}\n            keyboardType=\"email-address\"\n            autoCapitalize=\"none\"\n          />\n          <TextInput\n            style={styles.input}\n            placeholder=\"Пароль\"\n            value={regPassword}\n            onChangeText={setRegPassword}\n            secureTextEntry\n            editable={!loading}\n          />\n          <HCaptcha\n            sitekey=\"29c6b1c2-7e78-43ec-8bf8-5de49c58c54a\"\n            onVerify={onCaptchaVerify}\n          />\n          <ErrorMessage \n            message={registrationError} \n            onClose={() => setRegistrationError('')}\n          />\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, loading && styles.buttonDisabled]}\n              onPress={handleRegister}\n              disabled={loading}\n            >\n              {loading ? (\n                <ActivityIndicator color=\"white\" />\n              ) : (\n                <Text style={styles.buttonText}>Зарегистрироваться</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n          <TouchableOpacity onPress={() => {\n            setIsRegistering(false);\n            setRegistrationError('');\n            setLoginError('');\n          }}>\n            <Text style={styles.switchText}>Уже есть аккаунт? Войти</Text>\n          </TouchableOpacity>\n        </>\n      ) : (\n        <>\n          <TextInput\n            style={styles.input}\n            placeholder=\"Электронная почта\"\n            value={email}\n            onChangeText={setEmail}\n            autoCapitalize=\"none\"\n            keyboardType=\"email-address\"\n            editable={!loading}\n          />\n          <TextInput\n            style={styles.input}\n            placeholder=\"Пароль\"\n            value={password}\n            onChangeText={setPassword}\n            secureTextEntry\n            editable={!loading}\n          />\n          <ErrorMessage \n            message={loginError} \n            onClose={() => setLoginError('')}\n          />\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={[styles.button, loading && styles.buttonDisabled]}\n              onPress={handleLogin}\n              disabled={loading}\n            >\n              {loading ? (\n                <ActivityIndicator color=\"white\" />\n              ) : (\n                <Text style={styles.buttonText}>Войти</Text>\n              )}\n            </TouchableOpacity>\n          </View>\n          <TouchableOpacity onPress={() => {\n            setIsRegistering(true);\n            setRegistrationError('');\n            setLoginError('');\n          }}>\n            <Text style={styles.switchText}>Нет аккаунта? Зарегистрироваться</Text>\n          </TouchableOpacity>\n        </>\n      )}\n    </View>\n  );\n};\n\nexport default LoginScreen;\n","import React from 'react';\nimport { View, Text, StyleSheet } from 'react-native';\n\n// Предопределенные цветовые пары (фон и текст)\nconst colorPairs = [\n  { bg: '#FFE5E5', text: '#FF4D4D' }, // Красный\n  { bg: '#E5F1FF', text: '#3399FF' }, // Синий\n  { bg: '#E5FFE5', text: '#33CC33' }, // Зеленый\n  { bg: '#FFE5FF', text: '#FF33FF' }, // Розовый\n  { bg: '#FFF0E5', text: '#FF8533' }, // Оранжевый\n  { bg: '#E5F9FF', text: '#33CCFF' }, // Голубой\n  { bg: '#F2E5FF', text: '#9933FF' }, // Фиолетовый\n  { bg: '#FFFFE5', text: '#CCCC33' }, // Желтый\n];\n\ninterface LetterAvatarProps {\n  name: string;\n  size?: number;\n  style?: any;\n}\n\nconst LetterAvatar: React.FC<LetterAvatarProps> = ({ name, size = 120, style }) => {\n  // Получаем первую букву имени, если имя пустое используем \"?\"\n  const letter = (name?.charAt(0) || '?').toUpperCase();\n  \n  // Выбираем цветовую пару на основе имени\n  const colorIndex = Math.abs(name.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0)) % colorPairs.length;\n  const colors = colorPairs[colorIndex];\n\n  const styles = StyleSheet.create({\n    container: {\n      width: size,\n      height: size,\n      borderRadius: size / 2,\n      backgroundColor: colors.bg,\n      justifyContent: 'center',\n      alignItems: 'center',\n      overflow: 'hidden',\n    },\n    letter: {\n      color: colors.text,\n      fontSize: size * 0.4,\n      fontWeight: '600',\n      textAlign: 'center',\n      textAlignVertical: 'center',\n    },\n  });\n\n  return (\n    <View style={[styles.container, style]}>\n      <Text style={styles.letter}>{letter}</Text>\n    </View>\n  );\n};\n\nexport default LetterAvatar;\n","import React, { useState, useCallback, useEffect, useRef } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  TouchableOpacity,\n  Image,\n  Animated,\n  Modal,\n  Alert,\n  Platform,\n  ActivityIndicator,\n  Dimensions,\n} from 'react-native';\nimport {\n  PostResponse, postsAPI, getImageUrl\n} from '../services/api';\nimport LetterAvatar from './LetterAvatar';\nimport { format } from 'date-fns';\nimport { ru } from 'date-fns/locale';\nimport Icon from 'react-native-vector-icons/MaterialCommunityIcons';\nimport { Video, ResizeMode } from 'expo-av';\n\ninterface PostCardProps {\n  post: PostResponse;\n  onUpdate: () => void;\n}\n\ninterface MediaContent {\n  Image?: {\n    simple_image?: string;\n    file_name: string;\n    width: number;\n    height: number;\n    orig_name?: string;\n  };\n  Video?: {\n    file_name: string;\n    width: number;\n    height: number;\n    orig_name?: string;\n  };\n}\n\ninterface MediaViewerProps {\n  url: string;\n  type: 'image' | 'video';\n  onClose: () => void;\n  onDownload: (url: string, filename: string) => void;\n  filename: string;\n}\n\nconst PostCard: React.FC<PostCardProps> = ({ post, onUpdate }) => {\n  const [loadingAction, setLoadingAction] = useState<'LIKE' | 'DISLIKE' | null>(null);\n  const [localLikes, setLocalLikes] = useState(post.Likes);\n  const [localDislikes, setLocalDislikes] = useState(post.Dislikes);\n  const [localLiked, setLocalLiked] = useState(post.Liked);\n  const [localDisliked, setLocalDisliked] = useState(post.Disliked);\n  const [avatarUrl, setAvatarUrl] = useState<string | null>(null);\n  const [scaleAnim] = useState(new Animated.Value(1));\n  const [modalVisible, setModalVisible] = useState(false);\n  const fadeAnim = useRef(new Animated.Value(0)).current;\n  const [mediaViewerProps, setMediaViewerProps] = useState<MediaViewerProps | null>(null);\n  const videoRef = useRef(null);\n\n  const handleDownload = (url: string, filename: string) => {\n    try {\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = filename;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    } catch (error) {\n      console.error('Error downloading file:', error);\n      Alert.alert('Ошибка', 'Не удалось скачать файл');\n    }\n  };\n\n  const openModal = (props: MediaViewerProps) => {\n    setMediaViewerProps(props);\n    setModalVisible(true);\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 300,\n      useNativeDriver: true,\n    }).start();\n  };\n\n  const closeModal = () => {\n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 300,\n      useNativeDriver: true,\n    }).start(() => {\n      setModalVisible(false);\n      setMediaViewerProps(null);\n    });\n  };\n\n  const formatDate = useCallback((dateString: string) => {\n    const date = new Date(dateString);\n    return format(date, 'dd MMMM, HH:mm', { locale: ru });\n  }, []);\n\n  const handleInteraction = async (action: 'LIKE' | 'DISLIKE') => {\n    if (loadingAction) return;\n    \n    try {\n      setLoadingAction(action);\n      \n      // Оптимистично обновляем UI\n      if (action === 'LIKE') {\n        if (!localLiked) {\n          setLocalLikes(prev => prev + 1);\n          setLocalLiked('Liked');\n          if (localDisliked) {\n            setLocalDislikes(prev => prev - 1);\n            setLocalDisliked(null);\n          }\n        } else {\n          setLocalLikes(prev => prev - 1);\n          setLocalLiked(null);\n        }\n      } else {\n        if (!localDisliked) {\n          setLocalDislikes(prev => prev + 1);\n          setLocalDisliked('Liked');\n          if (localLiked) {\n            setLocalLikes(prev => prev - 1);\n            setLocalLiked(null);\n          }\n        } else {\n          setLocalDislikes(prev => prev - 1);\n          setLocalDisliked(null);\n        }\n      }\n\n      await postsAPI.interactWithPost(action, post.ID);\n      onUpdate();\n    } catch (error) {\n      console.error('Error interacting with post:', error);\n      setLocalLikes(post.Likes);\n      setLocalDislikes(post.Dislikes);\n      setLocalLiked(post.Liked);\n      setLocalDisliked(post.Disliked);\n      Alert.alert('Ошибка', 'Не удалось выполнить действие');\n    } finally {\n      setLoadingAction(null);\n    }\n  };\n\n  const handleReactionPress = useCallback((type: 'like' | 'dislike') => {\n    // Анимация нажатия\n    Animated.sequence([\n      Animated.timing(scaleAnim, {\n        toValue: 0.95,\n        duration: 100,\n        useNativeDriver: false,\n      }),\n      Animated.spring(scaleAnim, {\n        toValue: 1,\n        friction: 4,\n        useNativeDriver: false,\n      }),\n    ]).start();\n\n    if (type === 'like') {\n      handleInteraction('LIKE');\n    } else {\n      handleInteraction('DISLIKE');\n    }\n  }, [scaleAnim, handleInteraction]);\n\n  const renderMediaContent = () => {\n    if (!post.Content) return null;\n\n    try {\n      const content: MediaContent = JSON.parse(post.Content);\n      const screenWidth = Dimensions.get('window').width - 30;\n\n      if (content.Image) {\n        const aspectRatio = content.Image.width / content.Image.height;\n        const imageHeight = screenWidth / aspectRatio;\n        const maxHeight = screenWidth * 0.8;\n\n        const imageUrl = content.Image.simple_image\n          ? `https://elemsocial.com/Content/Simple/${content.Image.simple_image}`\n          : `https://elemsocial.com/Content/Posts/Images/${content.Image.file_name}`;\n        \n        const filename = content.Image.orig_name || content.Image.file_name;\n\n        return (\n          <TouchableOpacity\n            onPress={() => openModal({\n              url: imageUrl,\n              type: 'image',\n              filename,\n              onClose: closeModal,\n              onDownload: handleDownload\n            })}\n            style={[styles.mediaContainer, { height: Math.min(imageHeight, maxHeight) }]}\n          >\n            <Image\n              source={{ uri: imageUrl }}\n              style={styles.mediaContent}\n              resizeMode=\"contain\"\n            />\n          </TouchableOpacity>\n        );\n      }\n\n      if (content.Video) {\n        const aspectRatio = content.Video.width / content.Video.height;\n        const videoHeight = screenWidth / aspectRatio;\n        const maxHeight = screenWidth * 0.8;\n        const videoUrl = `https://elemsocial.com/Content/Posts/Video/${content.Video.file_name}`;\n        const filename = content.Video.orig_name ?? content.Video.file_name;\n\n        return (\n          <TouchableOpacity\n            onPress={() => {\n              if (content.Video) {\n                openModal({\n                  url: videoUrl,\n                  type: 'video',\n                  filename,\n                  onClose: closeModal,\n                  onDownload: handleDownload\n                });\n              }\n            }}\n            style={[styles.mediaContainer, { height: Math.min(videoHeight, maxHeight) }]}\n          >\n            <Video\n              ref={videoRef}\n              source={{ uri: videoUrl }}\n              style={styles.mediaContent}\n              resizeMode={ResizeMode.CONTAIN}\n              useNativeControls\n              shouldPlay={false}\n              isLooping\n            />\n          </TouchableOpacity>\n        );\n      }\n    } catch (error) {\n      console.error('Error parsing content:', error);\n      return null;\n    }\n\n    return null;\n  };\n\n  const renderMediaViewer = () => {\n    if (!mediaViewerProps) return null;\n\n    return (\n      <Modal\n        transparent\n        visible={modalVisible}\n        onRequestClose={closeModal}\n      >\n        <Animated.View \n          style={[\n            styles.modalOverlay,\n            {\n              opacity: fadeAnim,\n            },\n          ]}\n        >\n          <TouchableOpacity\n            style={styles.modalContent}\n            activeOpacity={1}\n            onPress={closeModal}\n          >\n            {mediaViewerProps.type === 'image' ? (\n              <Image\n                source={{ uri: mediaViewerProps.url }}\n                style={styles.fullScreenMedia}\n                resizeMode=\"contain\"\n              />\n            ) : (\n              <Video\n                ref={videoRef}\n                source={{ uri: mediaViewerProps.url }}\n                style={styles.fullScreenMedia}\n                resizeMode={ResizeMode.CONTAIN}\n                useNativeControls\n                shouldPlay={true}\n                isLooping\n              />\n            )}\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={styles.closeButton}\n            onPress={closeModal}\n          >\n            <Text style={styles.closeButtonText}>✕</Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={styles.downloadButton}\n            onPress={() => mediaViewerProps.onDownload(mediaViewerProps.url, mediaViewerProps.filename)}\n          >\n            <Image\n              source={require('../assets/download.png')}\n              style={styles.downloadIcon}\n            />\n          </TouchableOpacity>\n        </Animated.View>\n      </Modal>\n    );\n  };\n\n  useEffect(() => {\n    if (post.Avatar && post.Avatar !== 'None') {\n      loadAvatar();\n    }\n  }, [post.Avatar]);\n\n  const loadAvatar = async () => {\n    try {\n      if (post.Avatar && post.Avatar !== 'None') {\n        const url = await getImageUrl(post.Avatar);\n        setAvatarUrl(url);\n      }\n    } catch (error) {\n      console.error('Error loading avatar:', error);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.header}>\n        <TouchableOpacity style={styles.userInfo}>\n          <View style={styles.avatarContainer}>\n            {avatarUrl ? (\n              <Image\n                source={{ uri: avatarUrl }}\n                style={styles.avatar}\n              />\n            ) : (\n              <LetterAvatar name={post.Name || post.Username} size={40} />\n            )}\n          </View>\n          <View style={styles.userTextInfo}>\n            <View style={styles.nameContainer}>\n              <Text style={styles.name}>{post.Name}</Text>\n              {post.UserIcons && post.UserIcons.includes('VERIFY') && (\n                <Image\n                  source={require('../assets/verify.png')}\n                  style={styles.verifiedBadge}\n                />\n              )}\n            </View>\n            <Text style={styles.username}>@{post.Username}</Text>\n          </View>\n        </TouchableOpacity>\n        <Text style={styles.date}>{formatDate(post.Date)}</Text>\n      </View>\n\n      <Text style={styles.text}>{post.Text}</Text>\n\n      {renderMediaContent()}\n      {renderMediaViewer()}\n\n      <View style={styles.footer}>\n        <Animated.View style={[\n          styles.reactions, \n          { transform: [{ scale: scaleAnim }] },\n          loadingAction ? styles.pointerEventsNone : styles.pointerEventsAuto\n        ]}>\n          <TouchableOpacity\n            style={[styles.reactionButton, localLiked && styles.reactionButtonActive]}\n            onPress={() => handleReactionPress('like')}\n          >\n            <Image\n              source={require('../assets/like.png')}\n              style={styles.reactionIcon}\n              tintColor={localLiked ? '#007AFF' : '#666'}\n              resizeMode=\"contain\"\n            />\n            <Text style={[styles.reactionCount, localLiked && styles.reactionCountActive]}>\n              {localLikes}\n            </Text>\n            {loadingAction === 'LIKE' && (\n              <Animated.View style={styles.reactionLoader}>\n                <ActivityIndicator\n                  size=\"small\"\n                  color={localLiked ? '#007AFF' : '#666'}\n                />\n              </Animated.View>\n            )}\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={[styles.reactionButton, localDisliked && styles.dislikeButtonActive]}\n            onPress={() => handleReactionPress('dislike')}\n          >\n            <Image\n              source={require('../assets/dislike.png')}\n              style={styles.reactionIcon}\n              tintColor={localDisliked ? '#FF3B30' : '#666'}\n              resizeMode=\"contain\"\n            />\n            <Text style={[styles.reactionCount, localDisliked && styles.dislikeCountActive]}>\n              {localDislikes}\n            </Text>\n            {loadingAction === 'DISLIKE' && (\n              <Animated.View style={styles.reactionLoader}>\n                <ActivityIndicator\n                  size=\"small\"\n                  color={localDisliked ? '#FF3B30' : '#666'}\n                />\n              </Animated.View>\n            )}\n          </TouchableOpacity>\n\n          <TouchableOpacity\n            style={styles.reactionButton}\n          >\n            <Image\n              source={require('../assets/comment.png')}\n              style={styles.reactionIcon}\n              tintColor=\"#666\"\n              resizeMode=\"contain\"\n            />\n            <Text style={styles.reactionCount}>\n              {post.Comments}\n            </Text>\n          </TouchableOpacity>\n        </Animated.View>\n\n        {post.MyPost && (\n          <View style={styles.myPostBadge}>\n            <Text style={styles.myPostText}>Мой пост</Text>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#fff',\n    padding: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee',\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 10,\n  },\n  userInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  avatarContainer: {\n    width: 40,\n    height: 40,\n    marginRight: 10,\n    borderRadius: 20,\n    overflow: 'hidden',\n    backgroundColor: '#f0f0f0',\n  },\n  avatar: {\n    width: '100%',\n    height: '100%',\n  },\n  userTextInfo: {\n    flex: 1,\n  },\n  nameContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n  },\n  name: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#000',\n  },\n  verifiedBadge: {\n    width: 16,\n    height: 16,\n    marginLeft: 1,\n  },\n  username: {\n    fontSize: 14,\n    color: '#666',\n  },\n  date: {\n    fontSize: 12,\n    color: '#666',\n  },\n  text: {\n    fontSize: 16,\n    color: '#000',\n    marginBottom: 10,\n    lineHeight: 22,\n  },\n  mediaContainer: {\n    width: '100%',\n    backgroundColor: '#000',\n    borderRadius: 10,\n    overflow: 'hidden',\n    marginVertical: 5,\n  },\n  mediaContent: {\n    width: '100%',\n    height: '100%',\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.9)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  modalContent: {\n    width: '100%',\n    height: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  fullScreenMedia: {\n    width: '100%',\n    height: '100%',\n  },\n  closeButton: {\n    position: 'absolute',\n    top: 40,\n    right: 20,\n    zIndex: 2,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  closeButtonText: {\n    color: '#fff',\n    fontSize: 24,\n    fontWeight: 'bold',\n  },\n  downloadButton: {\n    position: 'absolute',\n    right: 20,\n    bottom: 40,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    borderRadius: 25,\n    padding: 12,\n    zIndex: 1,\n  },\n  downloadIcon: {\n    width: 24,\n    height: 24,\n    tintColor: '#fff',\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  reactions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    gap: 20,\n  },\n  reactionButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n    borderRadius: 20,\n    backgroundColor: '#f8f8f8',\n  },\n  reactionButtonActive: {\n    backgroundColor: '#E3F2FD',\n  },\n  dislikeButtonActive: {\n    backgroundColor: '#FFE5E5',\n  },\n  reactionIcon: {\n    width: 24,\n    height: 24,\n  },\n  reactionIconActive: {\n    tintColor: '#007AFF',\n  },\n  dislikeIconActive: {\n    tintColor: '#FF3B30',\n  },\n  reactionCount: {\n    fontSize: 15,\n    fontWeight: '600',\n    color: '#666',\n    marginLeft: 6,\n  },\n  reactionCountActive: {\n    color: '#007AFF',\n  },\n  dislikeCountActive: {\n    color: '#FF3B30',\n  },\n  reactionLoader: {\n    marginLeft: 4,\n  },\n  pointerEventsAuto: {\n    pointerEvents: 'auto',\n  },\n  pointerEventsNone: {\n    pointerEvents: 'none',\n  },\n  myPostBadge: {\n    backgroundColor: '#E3F2FD',\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12,\n  },\n  myPostText: {\n    fontSize: 12,\n    color: '#007AFF',\n    fontWeight: '500',\n  },\n  videoOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    justifyContent: 'flex-end',\n    alignItems: 'flex-end',\n    padding: 10,\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\n  },\n});\n\nexport default PostCard;\n","import React, { useState, useCallback, useEffect, useRef } from 'react';\nimport {\n  View,\n  FlatList,\n  StyleSheet,\n  RefreshControl,\n  ActivityIndicator,\n  Text,\n  TouchableOpacity,\n  Animated,\n  Platform,\n} from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useNavigation } from '@react-navigation/native';\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\nimport { RootStackParamList } from '../navigation/types';\nimport { PostResponse, postsAPI } from '../services/api';\nimport PostCard from '../components/PostCard';\nimport { AuthContext } from '../navigation';\n\ntype FeedType = 'LATEST' | 'REC' | 'SUBSCRIPTIONS';\ntype FeedScreenNavigationProp = NativeStackNavigationProp<RootStackParamList>;\n\nconst POSTS_PER_PAGE = 25;\nconst RETRY_INTERVAL = 5000;\n\nconst FeedScreen = () => {\n  const navigation = useNavigation<FeedScreenNavigationProp>();\n  const [feedType, setFeedType] = useState<FeedType>('LATEST');\n  const [posts, setPosts] = useState<PostResponse[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [hasMorePosts, setHasMorePosts] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const retryTimeoutRef = useRef<NodeJS.Timeout>();\n  const pageRef = useRef(0);\n  \n  // переменние анимок\n  const loadingOpacity = useRef(new Animated.Value(0)).current;\n  const contentOpacity = useRef(new Animated.Value(1)).current;\n\n  const { logout } = React.useContext(AuthContext);\n\n  useEffect(() => {\n    return () => {\n      if (retryTimeoutRef.current) {\n        clearTimeout(retryTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  const animateLoading = useCallback((show: boolean) => {\n    Animated.parallel([\n      Animated.timing(loadingOpacity, {\n        toValue: show ? 1 : 0,\n        duration: 200,\n        useNativeDriver: false,\n      }),\n      Animated.timing(contentOpacity, {\n        toValue: show ? 0.3 : 1,\n        duration: 200,\n        useNativeDriver: false,\n      }),\n    ]).start();\n  }, []);\n\n  const handleLogin = useCallback(async () => {\n    if (retryTimeoutRef.current) {\n      clearTimeout(retryTimeoutRef.current);\n    }\n    try {\n      // виход с акка\n      await logout();\n      \n      // удаляем все данние при виходе с акка\n      setPosts([]);\n      setError(null);\n      setLoading(false);\n      setRefreshing(false);\n      setLoadingMore(false);\n    } catch (error) {\n      console.error('Error logging out:', error);\n    }\n  }, [logout]);\n\n  const fetchPosts = useCallback(async (refresh = false) => {\n    try {\n      if (!refresh && loadingMore) return;\n\n      const startIndex = refresh ? 0 : pageRef.current * POSTS_PER_PAGE;\n      console.log('Fetching posts:', { feedType, startIndex, refresh });\n\n      if (refresh) {\n        setLoading(true);\n        pageRef.current = 0;\n        // анимация загрузки\n        if (!error && !refreshing) {\n          animateLoading(true);\n        }\n      } else {\n        setLoadingMore(true);\n      }\n\n      const newPosts = await postsAPI.getPosts(feedType, startIndex);\n      console.log('Received posts:', newPosts.length);\n      \n      // Если в LATEST нет постов - это ошибка\n      if (feedType === 'LATEST' && newPosts.length === 0 && startIndex === 0) {\n        throw new Error('Не удалось загрузить ленту');\n      }\n      \n      if (refresh) {\n        setPosts(newPosts);\n      } else {\n        setPosts(prev => [...prev, ...newPosts]);\n      }\n      \n      setHasMorePosts(newPosts.length === POSTS_PER_PAGE);\n      if (newPosts.length === POSTS_PER_PAGE) {\n        pageRef.current += 1;\n      }\n      setError(null);\n\n      if (retryTimeoutRef.current) {\n        clearTimeout(retryTimeoutRef.current);\n      }\n    } catch (error) {\n      console.error('Error fetching posts:', error);\n      setError('Ошибка загрузки постов\\n\\nПопробуйте войти еще раз, перезагрузить страницу или использовать VPN');\n      \n      // Продолжат попытки загрузки только для LATEST с заддержкой\n      if (feedType === 'LATEST') {\n        if (retryTimeoutRef.current) {\n          clearTimeout(retryTimeoutRef.current);\n        }\n        const delay = RETRY_INTERVAL + Math.random() * 1000;\n        retryTimeoutRef.current = setTimeout(() => {\n          fetchPosts(true);\n        }, delay);\n      }\n    } finally {\n      // Убираем анимацию загрузки только если нет ошибки и не идет pull-to-refresh\n      if (!error && !refreshing) {\n        animateLoading(false);\n      }\n      setLoading(false);\n      setRefreshing(false);\n      setLoadingMore(false);\n    }\n  }, [feedType, loadingMore, error, refreshing]);\n\n  const updateSinglePost = useCallback(async (postId: string) => {\n    try {\n      const updatedPost = await postsAPI.loadPost(postId);\n      setPosts(prevPosts => \n        prevPosts.map(post => \n          post.ID === postId ? updatedPost : post\n        )\n      );\n    } catch (error) {\n      console.error('Error updating post:', error);\n    }\n  }, []);\n\n  // загрузк постов\n  useEffect(() => {\n    fetchPosts(true);\n  }, [feedType]);\n\n  const handleRefresh = useCallback(() => {\n    console.log('Refreshing posts...');\n    setRefreshing(true);\n    fetchPosts(true);\n  }, [fetchPosts]);\n\n  const handleLoadMore = useCallback(() => {\n    console.log('Loading more posts...');\n    if (hasMorePosts && !loadingMore && !refreshing) {\n      fetchPosts(false);\n    }\n  }, [hasMorePosts, loadingMore, refreshing, fetchPosts]);\n\n  const handleChangeFeedType = useCallback((type: FeedType) => {\n    if (type === feedType) return;\n    if (retryTimeoutRef.current) {\n      clearTimeout(retryTimeoutRef.current);\n    }\n    console.log('Changing feed type to:', type);\n    setPosts([]);\n    setHasMorePosts(true);\n    pageRef.current = 0;\n    setFeedType(type);\n  }, [feedType]);\n\n  const renderPost = useCallback(({ item }: { item: PostResponse }) => {\n    return (\n      <PostCard\n        post={item}\n        onUpdate={() => updateSinglePost(item.ID)}\n      />\n    );\n  }, [updateSinglePost]);\n\n  const renderHeader = useCallback(() => (\n    <View style={styles.feedTypeContainer}>\n      <TouchableOpacity\n        style={[styles.feedTypeButton, feedType === 'LATEST' && styles.activeFeedType]}\n        onPress={() => handleChangeFeedType('LATEST')}\n      >\n        <Text style={[styles.feedTypeText, feedType === 'LATEST' && styles.activeFeedTypeText]}>\n          Новые\n        </Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={[styles.feedTypeButton, feedType === 'REC' && styles.activeFeedType]}\n        onPress={() => handleChangeFeedType('REC')}\n      >\n        <Text style={[styles.feedTypeText, feedType === 'REC' && styles.activeFeedTypeText]}>\n          Рекомендации\n        </Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={[styles.feedTypeButton, feedType === 'SUBSCRIPTIONS' && styles.activeFeedType]}\n        onPress={() => handleChangeFeedType('SUBSCRIPTIONS')}\n      >\n        <Text style={[styles.feedTypeText, feedType === 'SUBSCRIPTIONS' && styles.activeFeedTypeText]}>\n          Подписки\n        </Text>\n      </TouchableOpacity>\n    </View>\n  ), [feedType, handleChangeFeedType]);\n\n  const renderError = useCallback(() => {\n    if (!error) return null;\n    return (\n      <View style={styles.errorContainer}>\n        <Text style={styles.errorText}>{error}</Text>\n        <TouchableOpacity style={styles.retryButton} onPress={() => fetchPosts(true)}>\n          <Text style={styles.retryButtonText}>Повторить</Text>\n        </TouchableOpacity>\n        <TouchableOpacity style={styles.loginButton} onPress={handleLogin}>\n          <Text style={styles.loginButtonText}>Войти заново</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  }, [error, handleLogin]);\n\n  const renderEmpty = useCallback(() => {\n    if (loading) return null;\n    return (\n      <View style={styles.emptyContainer}>\n        <Text style={styles.emptyText}>\n          {error ? '' : 'Нет постов'}\n        </Text>\n      </View>\n    );\n  }, [loading, error]);\n\n  const renderFooter = useCallback(() => {\n    if (!loadingMore) return null;\n    return (\n      <View style={styles.footer}>\n        <ActivityIndicator size=\"small\" color=\"#007AFF\" />\n      </View>\n    );\n  }, [loadingMore]);\n\n  if (loading && posts.length === 0) {\n    return (\n      <View style={styles.container}>\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color=\"#007AFF\" />\n        </View>\n      </View>\n    );\n  }\n\n  return (\n    <View style={styles.container}>\n      {renderHeader()}\n      \n      <View style={styles.contentContainer}>\n        <Animated.View style={[\n          styles.loadingOverlay, \n          { \n            opacity: loadingOpacity,\n          },\n          loading ? styles.pointerEventsAuto : styles.pointerEventsNone\n        ]}>\n          <ActivityIndicator size=\"large\" color=\"#007AFF\" />\n        </Animated.View>\n\n        <Animated.View style={[\n          styles.content, \n          { \n            opacity: contentOpacity,\n          },\n          loading ? styles.pointerEventsNone : styles.pointerEventsAuto\n        ]}>\n          <FlatList\n            data={posts}\n            renderItem={renderPost}\n            keyExtractor={item => `${feedType}_${item.ID}`}\n            onEndReached={handleLoadMore}\n            onEndReachedThreshold={0.5}\n            refreshControl={\n              <RefreshControl\n                refreshing={refreshing}\n                onRefresh={handleRefresh}\n                colors={['#007AFF']}\n                tintColor=\"#007AFF\"\n              />\n            }\n            ListEmptyComponent={renderEmpty}\n            ListFooterComponent={renderFooter}\n            contentContainerStyle={styles.listContent}\n          />\n        </Animated.View>\n      </View>\n\n      {renderError()}\n    </View>\n  );\n};\n\n// все стили ну тут и так понятно\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  contentContainer: {\n    flex: 1,\n    position: 'relative',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  feedTypeContainer: {\n    flexDirection: 'row',\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    backgroundColor: '#fff',\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee',\n    zIndex: 1,\n    ...Platform.select({\n      ios: {\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 1 },\n        shadowOpacity: 0.1,\n        shadowRadius: 1,\n      },\n      android: {\n        elevation: 2,\n      },\n    }),\n  },\n  feedTypeButton: {\n    flex: 1,\n    paddingVertical: 8,\n    alignItems: 'center',\n    borderRadius: 20,\n    marginHorizontal: 4,\n  },\n  activeFeedType: {\n    backgroundColor: '#E3F2FD',\n  },\n  feedTypeText: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: '#666',\n  },\n  activeFeedTypeText: {\n    color: '#007AFF',\n  },\n  content: {\n    flex: 1,\n  },\n  listContent: {\n    flexGrow: 1,\n  },\n  loadingOverlay: {\n    ...StyleSheet.absoluteFillObject,\n    backgroundColor: 'rgba(255, 255, 255, 0.8)',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  pointerEventsAuto: {\n    pointerEvents: 'auto',\n  },\n  pointerEventsNone: {\n    pointerEvents: 'none',\n  },\n  footer: {\n    padding: 20,\n    alignItems: 'center',\n  },\n  errorContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    padding: 20,\n    backgroundColor: '#fff',\n    borderTopWidth: 1,\n    borderTopColor: '#eee',\n    alignItems: 'center',\n  },\n  errorText: {\n    fontSize: 14,\n    color: '#FF3B30',\n    textAlign: 'center',\n    marginBottom: 15,\n  },\n  retryButton: {\n    backgroundColor: '#007AFF',\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 20,\n    marginBottom: 10,\n  },\n  retryButtonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  loginButton: {\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n  },\n  loginButtonText: {\n    color: '#007AFF',\n    fontSize: 16,\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  emptyText: {\n    fontSize: 16,\n    color: '#666',\n    textAlign: 'center',\n  },\n});\n\nexport default FeedScreen;\n","import React, { useEffect, useState, useContext } from 'react';\nimport {\n  View,\n  Text,\n  Image,\n  StyleSheet,\n  TouchableOpacity,\n  ActivityIndicator,\n  Platform,\n  Alert,\n  RefreshControl,\n  FlatList,\n  Linking,\n  Dimensions,\n  ScrollView,\n} from 'react-native';\nimport { profileAPI, getImageUrl, postsAPI, ProfileData } from '../services/api';\nimport LetterAvatar from '../components/LetterAvatar';\nimport { AuthContext } from '../navigation';\nimport PostCard from '../components/PostCard';\nimport { PostResponse } from '../services/api';\nimport Icon from 'react-native-vector-icons/MaterialCommunityIcons';\nimport ErrorMessage from '../components/ErrorMessage';\n\nconst POSTS_PER_PAGE = 10;\nconst { width } = Dimensions.get('window');\n\ninterface ProfileScreenProps {\n  username?: string;\n}\n\nconst ProfileScreen: React.FC<ProfileScreenProps> = ({ username }) => {\n  const { logout } = useContext(AuthContext);\n  const [profile, setProfile] = useState<ProfileData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [avatarUrl, setAvatarUrl] = useState<string | null>(null);\n  const [coverUrl, setCoverUrl] = useState<string | null>(null);\n  const [iconUrls, setIconUrls] = useState<string[]>([]);\n  const [posts, setPosts] = useState<PostResponse[]>([]);\n  const [loadingPosts, setLoadingPosts] = useState(false);\n  const [refreshing, setRefreshing] = useState(false);\n  const [hasMorePosts, setHasMorePosts] = useState(true);\n\n  useEffect(() => {\n    fetchProfile();\n  }, [username]);\n\n  const loadIcons = async (icons: string[]) => {\n    const loadedUrls: string[] = [];\n    for (const icon of icons) {\n      try {\n        const url = await getImageUrl(icon);\n        loadedUrls.push(url);\n      } catch (error) {\n        console.error('Error loading icon:', error);\n      }\n    }\n    setIconUrls(loadedUrls);\n  };\n\n  const fetchProfile = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      let data;\n      \n      if (username) {\n        data = await profileAPI.getProfile(username);\n      } else {\n        data = await profileAPI.getMyProfile();\n      }\n      \n      setProfile(data);\n      \n      if (data.avatar && data.avatar !== 'None') {\n        try {\n          const url = await getImageUrl(data.avatar);\n          setAvatarUrl(url);\n        } catch (error) {\n          console.error('Error loading avatar:', error);\n          setError('Не удалось загрузить аватар');\n        }\n      }\n\n      if (data.cover && data.cover !== 'None') {\n        try {\n          const url = await getImageUrl(data.cover);\n          setCoverUrl(url);\n        } catch (error) {\n          console.error('Error loading cover:', error);\n          setError('Не удалось загрузить обложку');\n        }\n      }\n\n      if (data.icons && data.icons.length > 0) {\n        loadIcons(data.icons);\n      }\n      \n      if (data.id) {\n        fetchUserPosts(true);\n      }\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n      setError('Не удалось загрузить профиль. Проверьте подключение к интернету или попробуйте войти заново.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchUserPosts = async (refresh = false) => {\n    if (!profile?.id || (!refresh && loadingPosts)) return;\n\n    try {\n      setLoadingPosts(true);\n      const startIndex = refresh ? 0 : posts.length;\n      const newPosts = await postsAPI.getUserPosts(profile.id.toString(), startIndex);\n      \n      if (refresh) {\n        setPosts(newPosts);\n      } else {\n        setPosts(prev => [...prev, ...newPosts]);\n      }\n      \n      setHasMorePosts(newPosts.length === POSTS_PER_PAGE);\n    } catch (error) {\n      console.error('Error fetching user posts:', error);\n      Alert.alert('Ошибка', 'Не удалось загрузить посты');\n    } finally {\n      setLoadingPosts(false);\n      setRefreshing(false);\n    }\n  };\n\n  const handleRefresh = () => {\n    setRefreshing(true);\n    fetchProfile();\n  };\n\n  const handleLoadMore = () => {\n    if (hasMorePosts && !loadingPosts) {\n      fetchUserPosts();\n    }\n  };\n\n  const handlePostUpdate = () => {\n    fetchUserPosts(true);\n  };\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n    } catch (error) {\n      console.error('Error logging out:', error);\n      Alert.alert('Ошибка', 'Не удалось выйти из аккаунта');\n    }\n  };\n\n  if (loading) {\n    return (\n      <View style={styles.centered}>\n        <ActivityIndicator size=\"large\" color=\"#007AFF\" />\n      </View>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <View style={styles.centered}>\n        <Text>Не удалось загрузить профиль</Text>\n      </View>\n    );\n  }\n\n  const renderPost = ({ item }: { item: PostResponse }) => (\n    <PostCard post={item} onUpdate={handlePostUpdate} />\n  );\n\n  const renderFooter = () => {\n    if (!loadingPosts) return null;\n    return (\n      <View style={styles.footer}>\n        <ActivityIndicator size=\"small\" color=\"#007AFF\" />\n      </View>\n    );\n  };\n\n  const renderStats = () => {\n    const stats = [\n      { label: 'Посты', value: profile.posts },\n      { label: 'Подписчики', value: profile.subscribers },\n      { label: 'Подписки', value: profile.subscriptions }\n    ];\n\n    return (\n      <View style={styles.stats}>\n        {stats.map((stat, index) => (\n          <View key={stat.label} style={styles.statItem}>\n            <Text style={styles.statNumber}>\n              {stat.value?.toLocaleString() || '0'}\n            </Text>\n            <Text style={styles.statLabel}>{stat.label}</Text>\n          </View>\n        ))}\n      </View>\n    );\n  };\n\n  const renderHeader = () => (\n    <View style={styles.headerContainer}>\n      {/* Cover Image */}\n      <View style={styles.coverContainer}>\n        {coverUrl ? (\n          <Image \n            source={{ uri: coverUrl }}\n            style={styles.coverImage}\n            resizeMode=\"cover\"\n          />\n        ) : (\n          <View style={[styles.coverImage, styles.defaultCover]} />\n        )}\n      </View>\n\n      {/* Profile Info */}\n      <View style={styles.profileInfo}>\n        <View style={styles.avatarWrapper}>\n          {avatarUrl ? (\n            <Image \n              source={{ uri: avatarUrl }}\n              style={styles.avatar}\n            />\n          ) : (\n            <LetterAvatar \n              name={profile?.name || profile?.username || 'Пользователь'} \n              size={100}\n            />\n          )}\n        </View>\n\n        <View style={styles.nameContainer}>\n          <Text style={styles.name}>{profile?.name || 'Без имени'}</Text>\n          <Text style={styles.username}>@{profile?.username}</Text>\n          {profile?.description && (\n            <Text style={styles.description}>{profile.description}</Text>\n          )}\n        </View>\n\n        {renderStats()}\n\n        {profile?.icons && profile.icons.length > 0 && (\n          <View style={styles.iconsContainer}>\n            {iconUrls.map((iconUrl, index) => (\n              <Image \n                key={index}\n                source={{ uri: iconUrl }}\n                style={styles.icon}\n              />\n            ))}\n          </View>\n        )}\n      </View>\n    </View>\n  );\n\n  return (\n    <ScrollView\n      style={styles.container}\n      refreshControl={\n        <RefreshControl refreshing={refreshing} onRefresh={handleRefresh} />\n      }\n    >\n      <ErrorMessage \n        message={error} \n        onClose={() => setError('')}\n      />\n      \n      {loading ? (\n        <ActivityIndicator size=\"large\" color=\"#007AFF\" style={styles.loader} />\n      ) : profile ? (\n        <>\n          {/* Profile content */}\n          <View style={styles.coverContainer}>\n            {coverUrl && (\n              <Image source={{ uri: coverUrl }} style={styles.coverImage} />\n            )}\n          </View>\n          \n          <View style={styles.profileInfo}>\n            <View style={styles.avatarWrapper}>\n              {avatarUrl ? (\n                <Image source={{ uri: avatarUrl }} style={styles.avatar} />\n              ) : (\n                <LetterAvatar \n                  name={profile?.name || profile?.username || 'Пользователь'} \n                  size={100}\n                />\n              )}\n            </View>\n            \n            <Text style={styles.name}>{profile.name}</Text>\n            <Text style={styles.username}>@{profile.username}</Text>\n            \n            {profile.description && (\n              <Text style={styles.description}>{profile.description}</Text>\n            )}\n            \n            {renderStats()}\n            \n            {profile.my_profile && (\n              <TouchableOpacity\n                style={styles.logoutButton}\n                onPress={handleLogout}\n              >\n                <Text style={styles.logoutButtonText}>Выйти</Text>\n              </TouchableOpacity>\n            )}\n          </View>\n          \n          {/* Posts section */}\n          <View style={styles.postsContainer}>\n            {loadingPosts ? (\n              <ActivityIndicator size=\"small\" color=\"#007AFF\" />\n            ) : posts.length > 0 ? (\n              posts.map((post) => (\n                <View key={post.ID} style={styles.post}>\n                  <Text style={styles.postText}>{post.Text}</Text>\n                  {/* Add more post content here */}\n                </View>\n              ))\n            ) : (\n              <Text style={styles.noPosts}>Нет постов</Text>\n            )}\n          </View>\n        </>\n      ) : null}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  centered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  headerContainer: {\n    width: '100%',\n  },\n  coverContainer: {\n    width: '100%',\n    height: 200,\n    backgroundColor: '#f0f0f0',\n  },\n  coverImage: {\n    width: '100%',\n    height: 200,\n  },\n  defaultCover: {\n    backgroundColor: '#e1e1e1',\n  },\n  profileInfo: {\n    padding: 15,\n    marginTop: -50,\n  },\n  avatarWrapper: {\n    marginBottom: 10,\n    alignItems: 'center',\n  },\n  avatar: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    borderWidth: 4,\n    borderColor: '#fff',\n  },\n  nameContainer: {\n    alignItems: 'center',\n    marginBottom: 15,\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#000',\n    marginBottom: 4,\n  },\n  username: {\n    fontSize: 16,\n    color: '#666',\n    marginBottom: 8,\n  },\n  description: {\n    fontSize: 14,\n    color: '#444',\n    textAlign: 'center',\n    paddingHorizontal: 20,\n  },\n  stats: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    paddingVertical: 15,\n    borderTopWidth: 1,\n    borderBottomWidth: 1,\n    borderColor: '#eee',\n    marginVertical: 15,\n  },\n  statItem: {\n    alignItems: 'center',\n  },\n  statNumber: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#000',\n  },\n  statLabel: {\n    fontSize: 12,\n    color: '#666',\n    marginTop: 4,\n  },\n  iconsContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n    marginTop: 10,\n  },\n  icon: {\n    width: 24,\n    height: 24,\n    marginHorizontal: 4,\n  },\n  footer: {\n    padding: 10,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loader: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  logoutButton: {\n    backgroundColor: '#007AFF',\n    padding: 10,\n    borderRadius: 5,\n    alignItems: 'center',\n  },\n  logoutButtonText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  postsContainer: {\n    padding: 10,\n  },\n  post: {\n    marginBottom: 10,\n  },\n  postText: {\n    fontSize: 16,\n  },\n  noPosts: {\n    fontSize: 16,\n    textAlign: 'center',\n    color: '#666',\n  },\n});\n\nexport default ProfileScreen;\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Ionicons } from '@expo/vector-icons';\nimport LoginScreen from '../screens/LoginScreen';\nimport FeedScreen from '../screens/FeedScreen';\nimport ProfileScreen from '../screens/ProfileScreen';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst Tab = createBottomTabNavigator();\nconst Stack = createNativeStackNavigator();\n\nexport const AuthContext = createContext<{\n  isLoggedIn: boolean;\n  setIsLoggedIn: (value: boolean) => void;\n  logout: () => Promise<void>;\n}>({\n  isLoggedIn: false,\n  setIsLoggedIn: () => {},\n  logout: async () => {},\n});\n\nconst MainTabs = () => {\n  return (\n    <Tab.Navigator\n      screenOptions={{\n        tabBarActiveTintColor: '#007AFF',\n        tabBarInactiveTintColor: '#8E8E93',\n        tabBarStyle: {\n          backgroundColor: '#FFFFFF',\n          borderTopWidth: 1,\n          borderTopColor: '#E5E5EA',\n        },\n        headerStyle: {\n          backgroundColor: '#FFFFFF',\n        },\n        headerTitleStyle: {\n          color: '#000000',\n          fontSize: 17,\n          fontWeight: '600',\n        },\n      }}\n    >\n      <Tab.Screen\n        name=\"Feed\"\n        component={FeedScreen}\n        options={{\n          title: 'Главная',\n          tabBarIcon: ({ color, size }) => (\n            <Ionicons name=\"home-outline\" size={size} color={color} />\n          ),\n          headerTitle: 'Главная',\n        }}\n      />\n      <Tab.Screen\n        name=\"Profile\"\n        component={ProfileScreen}\n        options={({ navigation }) => ({\n          title: 'Мой профиль',\n          tabBarIcon: ({ color, size }) => (\n            <Ionicons name=\"person-outline\" size={size} color={color} />\n          ),\n          headerTitle: 'Мой профиль',\n          headerRight: () => {\n            const { logout } = useContext(AuthContext);\n            return (\n              <Ionicons\n                name=\"log-out-outline\"\n                size={24}\n                color=\"#ff3b30\"\n                style={{ marginRight: 15 }}\n                onPress={logout}\n              />\n            );\n          },\n        })}\n      />\n    </Tab.Navigator>\n  );\n};\n\nconst Navigation = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    checkLoginStatus();\n  }, []);\n\n  const checkLoginStatus = async () => {\n    await AsyncStorage.clear();\n    const sKey = await AsyncStorage.getItem('S-KEY');\n    setIsLoggedIn(!!sKey);\n  };\n\n  const logout = async () => {\n    await AsyncStorage.removeItem('S-KEY');\n    setIsLoggedIn(false);\n  };\n\n  return (\n    <AuthContext.Provider value={{ isLoggedIn, setIsLoggedIn, logout }}>\n      <NavigationContainer>\n        <Stack.Navigator screenOptions={{ headerShown: false }}>\n          {!isLoggedIn ? (\n            <Stack.Screen name=\"Auth\" component={LoginScreen} />\n          ) : (\n            <Stack.Screen name=\"Main\" component={MainTabs} />\n          )}\n        </Stack.Navigator>\n      </NavigationContainer>\n    </AuthContext.Provider>\n  );\n};\n\nexport default Navigation;\n","import './src/utils/disableWarnings';\nimport React, { useCallback, useEffect } from 'react';\nimport Navigation from './src/navigation';\nimport { StatusBar } from 'expo-status-bar';\nimport { View, StyleSheet } from 'react-native';\n\nexport default function App() {\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      // Очищаем localStorage браузера при запуске\n      window.localStorage.clear();\n    }\n  }, []);\n\n  const renderNavigation = useCallback(() => <Navigation />, []);\n\n  return (\n    <View style={styles.container}>\n      <StatusBar style=\"auto\" />\n      {renderNavigation()}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n});\n","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n","const originalConsoleError = console.error;\n\nconsole.error = (...args: any[]) => {\n  if (args[0]?.includes?.('Warning: Encountered two children with the same key')) {\n    return;\n  }\n  originalConsoleError.apply(console, args);\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/KirixElemClient/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [739], () => (__webpack_require__(6220)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","WebSocketClient","socket","isConnected","rsaPublic","rsaPrivate","rsaPublicServer","aesKey","aesServerKey","messageHandlers","Map","connectionPromise","keyExchangePromise","requestTimeout","constructor","url","this","performKeyExchange","Promise","async","resolve","reject","publicKey","privateKey","crypto","subtle","generateKey","name","modulusLength","publicExponent","Uint8Array","hash","generateRSAKeys","message","type","key","exported","exportKey","exportedAsString","String","fromCharCode","apply","btoa","arrayBufferToPem","send","JSON","stringify","keyExchangeHandler","data","pem","pemContents","substring","pemHeader","length","pemFooter","binaryDer","atob","arrayBuffer","i","charCodeAt","importKey","pemToArrayBuffer","off","error","on","setTimeout","Error","connect","wsKey","getRandomValues","wsUrl","URL","searchParams","append","WebSocket","toString","binaryType","timeout","close","onopen","clearTimeout","then","catch","onmessage","parse","event","decrypted","encryptedData","iv","slice","decryptedBuffer","decrypt","TextDecoder","decode","aesDecrypt","handler","get","action","onerror","onclose","encrypted","dataBuffer","TextEncoder","encode","encrypt","result","byteLength","set","aesEncrypt","delete","AUTH_API_URL","authApi","axios","create","baseURL","headers","postsApi","systemApi","wsClient","connectWebSocket","retries","sKey","AsyncStorage","getItem","authTimeout","status","S_KEY","interceptors","request","use","config","response","removeItem","getImageUrl","path","authAPI","email","password","formData","FormData","fetch","method","body","json","setItem","profileAPI","getMyProfile","client","profile","getProfile","username","updateProfile","Object","entries","forEach","value","post","uploadAvatar","file","uploadCover","postsAPI","postId","startIndex","postsArray","Array","isArray","map","ID","AuthorID","Username","Name","Avatar","UserIcons","Text","Content","Date","Likes","Number","Dislikes","Liked","Disliked","Comments","MyPost","Boolean","isAxiosError","userId","undefined","height","Dimensions","styles","StyleSheet","overlay","flex","backgroundColor","justifyContent","alignItems","container","assign","width","maxWidth","borderRadius","boxShadow","content","padding","title","fontSize","fontWeight","color","marginBottom","textAlign","text","lineHeight","button","paddingVertical","paddingHorizontal","alignSelf","buttonText","ErrorMessage","onClose","translateY","Animated","Value","useEffect","spring","toValue","useNativeDriver","tension","friction","start","handleClose","timing","duration","_jsx","Modal","transparent","visible","animationType","onRequestClose","children","View","style","transform","_jsxs","TouchableOpacity","onPress","activeOpacity","input","borderWidth","borderColor","outlineStyle","buttonContainer","pointerEvents","cursor","buttonDisabled","switchText","marginTop","stepText","LoginScreen","useNavigation","setIsLoggedIn","useContext","AuthContext","isRegistering","setIsRegistering","useState","loading","setLoading","setEmail","setPassword","loginError","setLoginError","setName","setUsername","regEmail","setRegEmail","regPassword","setRegPassword","captchaToken","setCaptchaToken","registrationError","setRegistrationError","_Fragment","TextInput","placeholder","onChangeText","editable","autoCapitalize","keyboardType","secureTextEntry","HCaptcha","sitekey","onVerify","token","trim","test","disabled","ActivityIndicator","colorPairs","bg","LetterAvatar","size","letter","charAt","toUpperCase","colorIndex","Math","abs","split","reduce","acc","char","colors","overflow","textAlignVertical","borderBottomWidth","borderBottomColor","header","flexDirection","userInfo","avatarContainer","marginRight","avatar","userTextInfo","nameContainer","gap","verifiedBadge","marginLeft","date","mediaContainer","marginVertical","mediaContent","modalOverlay","modalContent","fullScreenMedia","closeButton","position","top","right","zIndex","closeButtonText","downloadButton","bottom","downloadIcon","tintColor","footer","reactions","reactionButton","reactionButtonActive","dislikeButtonActive","reactionIcon","reactionIconActive","dislikeIconActive","reactionCount","reactionCountActive","dislikeCountActive","reactionLoader","pointerEventsAuto","pointerEventsNone","myPostBadge","myPostText","videoOverlay","left","PostCard","onUpdate","loadingAction","setLoadingAction","localLikes","setLocalLikes","localDislikes","setLocalDislikes","localLiked","setLocalLiked","localDisliked","setLocalDisliked","avatarUrl","setAvatarUrl","scaleAnim","modalVisible","setModalVisible","fadeAnim","useRef","current","mediaViewerProps","setMediaViewerProps","videoRef","handleDownload","filename","a","document","createElement","href","download","appendChild","click","removeChild","Alert","alert","openModal","props","closeModal","formatDate","useCallback","dateString","format","locale","ru","handleInteraction","prev","handleReactionPress","sequence","loadAvatar","Image","source","uri","includes","require","renderMediaContent","screenWidth","imageHeight","maxHeight","imageUrl","simple_image","file_name","orig_name","onDownload","min","resizeMode","Video","videoHeight","videoUrl","ref","ResizeMode","CONTAIN","useNativeControls","shouldPlay","isLooping","opacity","scale","contentContainer","loadingContainer","feedTypeContainer","feedTypeButton","marginHorizontal","activeFeedType","feedTypeText","activeFeedTypeText","listContent","flexGrow","loadingOverlay","absoluteFillObject","errorContainer","borderTopWidth","borderTopColor","errorText","retryButton","retryButtonText","loginButton","loginButtonText","emptyContainer","emptyText","FeedScreen","feedType","setFeedType","posts","setPosts","refreshing","setRefreshing","loadingMore","setLoadingMore","hasMorePosts","setHasMorePosts","setError","retryTimeoutRef","pageRef","loadingOpacity","contentOpacity","logout","React","animateLoading","show","parallel","handleLogin","fetchPosts","refresh","newPosts","delay","random","updateSinglePost","updatedPost","prevPosts","handleRefresh","handleLoadMore","handleChangeFeedType","renderPost","item","renderHeader","renderError","renderEmpty","renderFooter","FlatList","renderItem","keyExtractor","onEndReached","onEndReachedThreshold","refreshControl","RefreshControl","onRefresh","ListEmptyComponent","ListFooterComponent","contentContainerStyle","centered","headerContainer","coverContainer","coverImage","defaultCover","profileInfo","avatarWrapper","description","stats","statItem","statNumber","statLabel","iconsContainer","flexWrap","icon","loader","logoutButton","logoutButtonText","postsContainer","postText","noPosts","ProfileScreen","setProfile","coverUrl","setCoverUrl","iconUrls","setIconUrls","loadingPosts","setLoadingPosts","fetchProfile","cover","icons","loadedUrls","push","loadIcons","id","fetchUserPosts","renderStats","label","subscribers","subscriptions","stat","index","toLocaleString","ScrollView","my_profile","Tab","createBottomTabNavigator","Stack","createNativeStackNavigator","createContext","isLoggedIn","MainTabs","Navigator","screenOptions","tabBarActiveTintColor","tabBarInactiveTintColor","tabBarStyle","headerStyle","headerTitleStyle","Screen","component","options","tabBarIcon","Ionicons","headerTitle","navigation","headerRight","Navigation","checkLoginStatus","clear","Provider","NavigationContainer","headerShown","registerRootComponent","window","localStorage","renderNavigation","StatusBar","originalConsoleError","console","args","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}