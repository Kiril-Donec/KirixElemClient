{"version":3,"file":"static/js/main.f11a4c66.js","mappings":"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","sources":["webpack/runtime/chunk loaded","src/services/api.ts","src/screens/LoginScreen.tsx","src/components/LetterAvatar.tsx","src/components/PostCard.tsx","src/screens/FeedScreen.tsx","src/screens/ProfileScreen.tsx","src/navigation/index.tsx","App.tsx","index.ts","src/utils/disableWarnings.ts","webpack/bootstrap","webpack/runtime/compat get default export","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import axios from 'axios';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst AUTH_API_URL = 'https://api.elemsocial.com';\r\nconst POSTS_API_URL = 'https://elemsocial.com';\r\nconst SYSTEM_API_URL = 'https://elemsocial.com/System/API';\r\n\r\nconst authApi = axios.create({\r\n  baseURL: AUTH_API_URL,\r\n  headers: {\r\n    'Content-Type': 'multipart/form-data',\r\n    'api': 'true'\r\n  }\r\n});\r\n\r\nconst postsApi = axios.create({\r\n  baseURL: POSTS_API_URL,\r\n  headers: {\r\n    'Content-Type': 'multipart/form-data',\r\n    'api': 'true'\r\n  }\r\n});\r\n\r\nconst systemApi = axios.create({\r\n  baseURL: SYSTEM_API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'api': 'true'\r\n  }\r\n});\r\n\r\n// Add interceptor to include S-KEY in requests\r\nauthApi.interceptors.request.use(async (config) => {\r\n  const sKey = await AsyncStorage.getItem('S-KEY');\r\n  if (sKey) {\r\n    config.headers['S-KEY'] = sKey;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Add response error handling\r\nauthApi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    console.error('API Error:', error?.response?.data || error.message);\r\n    if (error?.response?.status === 401) {\r\n      // Handle unauthorized error (invalid or expired S-KEY)\r\n      await AsyncStorage.removeItem('S-KEY');\r\n      // You might want to trigger a logout here\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add interceptor to include S-KEY in requests\r\npostsApi.interceptors.request.use(async (config) => {\r\n  const sKey = await AsyncStorage.getItem('S-KEY');\r\n  if (sKey) {\r\n    config.headers['S-KEY'] = sKey;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Add response error handling\r\npostsApi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    console.error('API Error:', error?.response?.data || error.message);\r\n    if (error?.response?.status === 401) {\r\n      // Handle unauthorized error (invalid or expired S-KEY)\r\n      await AsyncStorage.removeItem('S-KEY');\r\n      // You might want to trigger a logout here\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add interceptor to include S-KEY in requests\r\nsystemApi.interceptors.request.use(async (config) => {\r\n  const sKey = await AsyncStorage.getItem('S-KEY');\r\n  if (sKey) {\r\n    config.headers['S-KEY'] = sKey;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Types\r\nexport interface LoginResponse {\r\n  status: 'success' | 'error';\r\n  S_KEY: string;\r\n}\r\n\r\nexport interface PostResponse {\r\n  ID: string;\r\n  AuthorID: string;\r\n  Username: string;\r\n  Name: string;\r\n  Avatar: string | 'None';\r\n  UserIcons: string | null;\r\n  Text: string;\r\n  Content: string | null;\r\n  Date: string;\r\n  Likes: number;\r\n  Dislikes: number;\r\n  Liked: 'Liked' | null;\r\n  Disliked: 'Liked' | null;\r\n  Comments: number;\r\n  MyPost: boolean;\r\n}\r\n\r\nexport interface CommentResponse {\r\n  Name: string;\r\n  Username: string;\r\n  Avatar: string | 'None';\r\n  UserIcons: string | null;\r\n  Text: string;\r\n  Date: string;\r\n}\r\n\r\nexport interface ApiResponse {\r\n  Type: 'Error' | 'Verify';\r\n  Content: string;\r\n}\r\n\r\nexport interface ProfileData {\r\n  type: 'user';\r\n  id: number;\r\n  name: string;\r\n  username: string;\r\n  cover: string | 'None';\r\n  avatar: string | 'None';\r\n  description: string | null;\r\n  posts: number;\r\n  subscribers: number;\r\n  subscribed: boolean;\r\n  create_date: string;\r\n  icons: string[];\r\n  subscriptions: number;\r\n  links_count: number;\r\n  links: any[] | null;\r\n  my_profile: boolean;\r\n  permissions: {\r\n    posts: boolean;\r\n    comments: boolean;\r\n    new_chats: boolean;\r\n    music_upload: boolean;\r\n  };\r\n}\r\n\r\n// Helper functions\r\nexport const getImageUrl = async (path: string | null | undefined): Promise<string> => {\r\n  if (!path || path === 'None') {\r\n    return '';\r\n  }\r\n  return `https://elemsocial.com/Content/Avatars/${path}`;\r\n};\r\n\r\n// Auth API\r\nexport const authAPI = {\r\n  login: async (email: string, password: string): Promise<LoginResponse> => {\r\n    const formData = new FormData();\r\n    formData.append('email', email);\r\n    formData.append('password', password);\r\n\r\n    const response = await authApi.post<LoginResponse>('/auth/login', formData);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Profile API\r\nexport const profileAPI = {\r\n  async getMyProfile(): Promise<ProfileData> {\r\n    try {\r\n      const response = await systemApi.get('/Connect.php');\r\n      const data = response.data;\r\n      \r\n      return {\r\n        type: 'user',\r\n        id: parseInt(data.ID || '0'),\r\n        name: data.Name || '',\r\n        username: data.Username || '',\r\n        cover: data.Cover || 'None',\r\n        avatar: data.Avatar || 'None',\r\n        description: data.Description || null,\r\n        posts: parseInt(data.Posts || '0'),\r\n        subscribers: parseInt(data.Subscribers || '0'),\r\n        subscribed: data.Subscribed === 'true',\r\n        create_date: data.CreateDate || '',\r\n        icons: data.Icons ? data.Icons.split(',') : [],\r\n        subscriptions: parseInt(data.Subscriptions || '0'),\r\n        links_count: parseInt(data.LinksCount || '0'),\r\n        links: data.Links || null,\r\n        my_profile: true,\r\n        permissions: {\r\n          posts: data.Posts_Permission === 'true',\r\n          comments: data.Comments_Permission === 'true',\r\n          new_chats: data.NewChats_Permission === 'true',\r\n          music_upload: data.MusicUpload_Permission === 'true'\r\n        }\r\n      };\r\n    } catch (error) {\r\n      console.error('Error getting profile:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async getProfile(username: string): Promise<ProfileData> {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('username', username);\r\n      \r\n      const response = await authApi.post('/profile/get', formData, {\r\n        headers: {\r\n          'accept': 'application/json, text/plain, */*',\r\n          'api': 'true',\r\n          'content-type': 'multipart/form-data',\r\n          'priority': 'u=1, i'\r\n        }\r\n      });\r\n      \r\n      if (response.data.status === 'success') {\r\n        return response.data.data;\r\n      }\r\n      throw new Error('Failed to fetch profile data');\r\n    } catch (error) {\r\n      console.error('getProfile error:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  updateProfile: async (data: Partial<ProfileData>): Promise<ApiResponse> => {\r\n    const formData = new FormData();\r\n    Object.entries(data).forEach(([key, value]) => {\r\n      if (value !== undefined && value !== null) {\r\n        formData.append(key, String(value));\r\n      }\r\n    });\r\n    const response = await postsApi.post<ApiResponse>('/System/API/Connect.php', formData);\r\n    return response.data;\r\n  },\r\n\r\n  uploadAvatar: async (file: File): Promise<ApiResponse> => {\r\n    const formData = new FormData();\r\n    formData.append('avatar', file);\r\n    const response = await postsApi.post<ApiResponse>('/System/API/Connect.php', formData);\r\n    return response.data;\r\n  },\r\n\r\n  uploadCover: async (file: File): Promise<ApiResponse> => {\r\n    const formData = new FormData();\r\n    formData.append('cover', file);\r\n    const response = await postsApi.post<ApiResponse>('/System/API/Connect.php', formData);\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Posts API\r\nexport const postsAPI = {\r\n  // Load single post\r\n  loadPost: async (postId: string): Promise<PostResponse> => {\r\n    const formData = new FormData();\r\n    formData.append('PostID', postId);\r\n\r\n    const response = await postsApi.post('/System/API/LoadPost.php', formData);\r\n    return response.data;\r\n  },\r\n\r\n  // Create post\r\n  createPost: async (\r\n    text: string,\r\n    files: File[] = [],\r\n    clearMetadata = false,\r\n    censoring = false\r\n  ): Promise<ApiResponse> => {\r\n    const formData = new FormData();\r\n    formData.append('Text', text);\r\n    \r\n    // Добавляем файлы в Files[]\r\n    files.forEach(file => {\r\n      formData.append('Files[]', file);\r\n    });\r\n\r\n    if (clearMetadata) {\r\n      formData.append('ClearMetadataIMG', 'true');\r\n    }\r\n    if (censoring) {\r\n      formData.append('CensoringIMG', 'true');\r\n    }\r\n\r\n    const response = await postsApi.post<ApiResponse>('/System/API/AddPost.php', formData);\r\n    return response.data;\r\n  },\r\n\r\n  // Get single post\r\n  getPost: async (postId: string): Promise<PostResponse> => {\r\n    const formData = new FormData();\r\n    formData.append('PostID', postId);\r\n\r\n    const response = await postsApi.post<PostResponse>('/System/API/LoadPost.php', formData);\r\n    return response.data;\r\n  },\r\n\r\n  getPosts: async (type: 'LATEST' | 'REC' | 'SUBSCRIPTIONS', startIndex?: number): Promise<PostResponse[]> => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('StartIndex', startIndex?.toString() || '0');\r\n\r\n      const url = `/System/API/LoadPosts.php?F=${type}`;\r\n      console.log('Making request to:', url);\r\n      console.log('With FormData:', {\r\n        StartIndex: startIndex?.toString() || '0'\r\n      });\r\n\r\n      const response = await postsApi.post(url, formData);\r\n      console.log(`${type} posts raw response:`, response.data);\r\n\r\n      // Ensure we have an array of posts\r\n      const postsArray = Array.isArray(response.data) ? response.data : [];\r\n      console.log('Posts array length:', postsArray.length);\r\n\r\n      // Map and validate each post\r\n      const posts = postsArray.map(post => ({\r\n        ID: String(post.ID || ''),\r\n        AuthorID: String(post.AuthorID || ''),\r\n        Username: String(post.Username || ''),\r\n        Name: String(post.Name || ''),\r\n        Avatar: post.Avatar || 'None',\r\n        UserIcons: post.UserIcons || null,\r\n        Text: String(post.Text || ''),\r\n        Content: post.Content || null,\r\n        Date: String(post.Date || ''),\r\n        Likes: Number(post.Likes) || 0,\r\n        Dislikes: Number(post.Dislikes) || 0,\r\n        Liked: post.Liked || null,\r\n        Disliked: post.Disliked || null,\r\n        Comments: Number(post.Comments) || 0,\r\n        MyPost: Boolean(post.MyPost)\r\n      }));\r\n      \r\n      return posts;\r\n    } catch (error) {\r\n      console.error('Error fetching posts:', error);\r\n      if (axios.isAxiosError(error)) {\r\n        console.error('Response:', error.response?.data);\r\n        console.error('Status:', error.response?.status);\r\n        console.error('Headers:', error.response?.headers);\r\n      }\r\n      return [];\r\n    }\r\n  },\r\n\r\n  getUserPosts: async (userId: string, startIndex?: number): Promise<PostResponse[]> => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('UserID', userId);\r\n      if (startIndex !== undefined) {\r\n        formData.append('StartIndex', startIndex.toString());\r\n      }\r\n\r\n      const url = '/System/API/LoadPosts.php?F=USER';\r\n      console.log('Fetching user posts, UserID:', userId, 'StartIndex:', startIndex);\r\n      \r\n      const response = await postsApi.post<any>(url, formData);\r\n      console.log('User posts raw response:', response.data);\r\n\r\n      // Ensure we have an array of posts\r\n      const postsArray = Array.isArray(response.data) ? response.data : [];\r\n\r\n      // Map and validate each post\r\n      const posts = postsArray.map(post => ({\r\n        ID: String(post.ID || ''),\r\n        AuthorID: String(post.AuthorID || ''),\r\n        Username: String(post.Username || ''),\r\n        Name: String(post.Name || ''),\r\n        Avatar: post.Avatar || 'None',\r\n        UserIcons: post.UserIcons || null,\r\n        Text: String(post.Text || ''),\r\n        Content: post.Content || null,\r\n        Date: String(post.Date || ''),\r\n        Likes: Number(post.Likes) || 0,\r\n        Dislikes: Number(post.Dislikes) || 0,\r\n        Liked: post.Liked || null,\r\n        Disliked: post.Disliked || null,\r\n        Comments: Number(post.Comments) || 0,\r\n        MyPost: Boolean(post.MyPost)\r\n      }));\r\n      \r\n      console.log('User posts processed:', posts);\r\n      return posts;\r\n    } catch (error) {\r\n      console.error('Error fetching user posts:', error);\r\n      return [];\r\n    }\r\n  },\r\n\r\n  // Post interactions (like, dislike, delete)\r\n  interactWithPost: async (\r\n    action: 'LIKE' | 'DISLIKE' | 'DELETE',\r\n    postId: string\r\n  ): Promise<ApiResponse> => {\r\n    const formData = new FormData();\r\n    formData.append('PostID', postId);\r\n\r\n    const response = await postsApi.post<ApiResponse>(`/System/API/PostInteraction.php?F=${action}`, formData);\r\n    return response.data;\r\n  },\r\n\r\n  // Add comment to post\r\n  addComment: async (postId: string, text: string): Promise<ApiResponse> => {\r\n    const formData = new FormData();\r\n    formData.append('PostID', postId);\r\n    formData.append('Text', text);\r\n\r\n    const response = await postsApi.post<ApiResponse>('/System/API/PostInteraction.php?F=POST_COMMENT', formData);\r\n    return response.data;\r\n  },\r\n\r\n  // Get post comments\r\n  getComments: async (postId: string): Promise<CommentResponse[]> => {\r\n    const formData = new FormData();\r\n    formData.append('PostID', postId);\r\n\r\n    const response = await postsApi.post<CommentResponse[]>('/System/API/PostInteraction.php?F=LOAD_COMMENT', formData);\r\n    return response.data;\r\n  },\r\n};\r\n","import React, { useState, useContext } from 'react';\r\nimport {\r\n  View,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  Text,\r\n  StyleSheet,\r\n  Alert,\r\n  ActivityIndicator,\r\n  Platform,\r\n} from 'react-native';\r\nimport { authAPI } from '../services/api';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { CommonActions, useNavigation } from '@react-navigation/native';\r\nimport { AuthContext } from '../navigation';\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    padding: 20,\r\n    backgroundColor: '#fff',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 30,\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    height: 50,\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n    borderRadius: 8,\r\n    paddingHorizontal: 15,\r\n    marginBottom: 15,\r\n    fontSize: 16,\r\n    backgroundColor: '#fff',\r\n    ...(Platform.OS === 'web' && {\r\n      outlineStyle: 'none',\r\n      ':focus': {\r\n        borderColor: '#007AFF',\r\n      },\r\n    }),\r\n  },\r\n  buttonContainer: {\r\n    pointerEvents: 'auto',\r\n  },\r\n  button: {\r\n    height: 50,\r\n    backgroundColor: '#007AFF',\r\n    borderRadius: 8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    ...(Platform.OS === 'web' && {\r\n      cursor: 'pointer',\r\n      ':hover': {\r\n        backgroundColor: '#0056b3',\r\n      },\r\n    }),\r\n  },\r\n  buttonDisabled: {\r\n    backgroundColor: '#ccc',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n});\r\n\r\nconst LoginScreen = () => {\r\n  const navigation = useNavigation();\r\n  const { setIsLoggedIn } = useContext(AuthContext);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleLogin = async () => {\r\n    // проверка формата почти\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!email) {\r\n      Alert.alert('Ошибка', 'Введите почту');\r\n      return;\r\n    }\r\n    if (!emailRegex.test(email)) {\r\n      Alert.alert('Ошибка', 'Введите корректный email адрес');\r\n      return;\r\n    }\r\n    if (!password) {\r\n      Alert.alert('Ошибка', 'Введите пароль');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      console.log('Attempting login with email:', email);\r\n      const response = await authAPI.login(email.trim(), password);\r\n      console.log('Login response:', response);\r\n      \r\n      if (response?.status === 'success' && response?.S_KEY) {\r\n        console.log('Login successful, storing S-KEY...');\r\n        await AsyncStorage.setItem('S-KEY', response.S_KEY);\r\n        setIsLoggedIn(true);\r\n      } else {\r\n        console.log('Invalid credentials');\r\n        Alert.alert('Ошибка', 'Неверный email или пароль');\r\n      }\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      Alert.alert('Ошибка', 'Что-то пошло не так');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.title}>Sigma Element Client</Text>\r\n      <TextInput\r\n        style={styles.input}\r\n        placeholder=\"Электронная почта\"\r\n        value={email}\r\n        onChangeText={setEmail}\r\n        autoCapitalize=\"none\"\r\n        keyboardType=\"email-address\"\r\n        editable={!loading}\r\n      />\r\n      <TextInput\r\n        style={styles.input}\r\n        placeholder=\"Пароль\"\r\n        value={password}\r\n        onChangeText={setPassword}\r\n        secureTextEntry\r\n        editable={!loading}\r\n      />\r\n      <View style={styles.buttonContainer}>\r\n        <TouchableOpacity\r\n          style={[styles.button, loading && styles.buttonDisabled]}\r\n          onPress={handleLogin}\r\n          disabled={loading}\r\n        >\r\n          {loading ? (\r\n            <ActivityIndicator color=\"white\" />\r\n          ) : (\r\n            <Text style={styles.buttonText}>Войти</Text>\r\n          )}\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n","import React from 'react';\r\nimport { View, Text, StyleSheet } from 'react-native';\r\n\r\n// Предопределенные цветовые пары (фон и текст)\r\nconst colorPairs = [\r\n  { bg: '#FFE5E5', text: '#FF4D4D' }, // Красный\r\n  { bg: '#E5F1FF', text: '#3399FF' }, // Синий\r\n  { bg: '#E5FFE5', text: '#33CC33' }, // Зеленый\r\n  { bg: '#FFE5FF', text: '#FF33FF' }, // Розовый\r\n  { bg: '#FFF0E5', text: '#FF8533' }, // Оранжевый\r\n  { bg: '#E5F9FF', text: '#33CCFF' }, // Голубой\r\n  { bg: '#F2E5FF', text: '#9933FF' }, // Фиолетовый\r\n  { bg: '#FFFFE5', text: '#CCCC33' }, // Желтый\r\n];\r\n\r\ninterface LetterAvatarProps {\r\n  name: string;\r\n  size?: number;\r\n  style?: any;\r\n}\r\n\r\nconst LetterAvatar: React.FC<LetterAvatarProps> = ({ name, size = 120, style }) => {\r\n  // Получаем первую букву имени, если имя пустое используем \"?\"\r\n  const letter = (name?.charAt(0) || '?').toUpperCase();\r\n  \r\n  // Выбираем цветовую пару на основе имени\r\n  const colorIndex = Math.abs(name.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0)) % colorPairs.length;\r\n  const colors = colorPairs[colorIndex];\r\n\r\n  const styles = StyleSheet.create({\r\n    container: {\r\n      width: size,\r\n      height: size,\r\n      borderRadius: size / 2,\r\n      backgroundColor: colors.bg,\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      overflow: 'hidden',\r\n    },\r\n    letter: {\r\n      color: colors.text,\r\n      fontSize: size * 0.4,\r\n      fontWeight: '600',\r\n      textAlign: 'center',\r\n      textAlignVertical: 'center',\r\n    },\r\n  });\r\n\r\n  return (\r\n    <View style={[styles.container, style]}>\r\n      <Text style={styles.letter}>{letter}</Text>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default LetterAvatar;\r\n","import React, { useState, useCallback, useEffect, useRef } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  TouchableOpacity,\r\n  Image,\r\n  Animated,\r\n  Modal,\r\n  Alert,\r\n  Platform,\r\n  ActivityIndicator,\r\n  Dimensions,\r\n} from 'react-native';\r\nimport {\r\n  PostResponse, postsAPI, getImageUrl\r\n} from '../services/api';\r\nimport LetterAvatar from './LetterAvatar';\r\nimport { format } from 'date-fns';\r\nimport { ru } from 'date-fns/locale';\r\nimport Icon from 'react-native-vector-icons/MaterialCommunityIcons';\r\nimport { Video, ResizeMode } from 'expo-av';\r\n\r\ninterface PostCardProps {\r\n  post: PostResponse;\r\n  onUpdate: () => void;\r\n}\r\n\r\ninterface MediaContent {\r\n  Image?: {\r\n    simple_image?: string;\r\n    file_name: string;\r\n    width: number;\r\n    height: number;\r\n    orig_name?: string;\r\n  };\r\n  Video?: {\r\n    file_name: string;\r\n    width: number;\r\n    height: number;\r\n    orig_name?: string;\r\n  };\r\n}\r\n\r\ninterface MediaViewerProps {\r\n  url: string;\r\n  type: 'image' | 'video';\r\n  onClose: () => void;\r\n  onDownload: (url: string, filename: string) => void;\r\n  filename: string;\r\n}\r\n\r\nconst PostCard: React.FC<PostCardProps> = ({ post, onUpdate }) => {\r\n  const [loadingAction, setLoadingAction] = useState<'LIKE' | 'DISLIKE' | null>(null);\r\n  const [localLikes, setLocalLikes] = useState(post.Likes);\r\n  const [localDislikes, setLocalDislikes] = useState(post.Dislikes);\r\n  const [localLiked, setLocalLiked] = useState(post.Liked);\r\n  const [localDisliked, setLocalDisliked] = useState(post.Disliked);\r\n  const [avatarUrl, setAvatarUrl] = useState<string | null>(null);\r\n  const [scaleAnim] = useState(new Animated.Value(1));\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const fadeAnim = useRef(new Animated.Value(0)).current;\r\n  const [mediaViewerProps, setMediaViewerProps] = useState<MediaViewerProps | null>(null);\r\n  const videoRef = useRef(null);\r\n\r\n  const handleDownload = (url: string, filename: string) => {\r\n    try {\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download = filename;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n    } catch (error) {\r\n      console.error('Error downloading file:', error);\r\n      Alert.alert('Ошибка', 'Не удалось скачать файл');\r\n    }\r\n  };\r\n\r\n  const openModal = (props: MediaViewerProps) => {\r\n    setMediaViewerProps(props);\r\n    setModalVisible(true);\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 1,\r\n      duration: 300,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n\r\n  const closeModal = () => {\r\n    Animated.timing(fadeAnim, {\r\n      toValue: 0,\r\n      duration: 300,\r\n      useNativeDriver: true,\r\n    }).start(() => {\r\n      setModalVisible(false);\r\n      setMediaViewerProps(null);\r\n    });\r\n  };\r\n\r\n  const formatDate = useCallback((dateString: string) => {\r\n    const date = new Date(dateString);\r\n    return format(date, 'dd MMMM, HH:mm', { locale: ru });\r\n  }, []);\r\n\r\n  const handleInteraction = async (action: 'LIKE' | 'DISLIKE') => {\r\n    if (loadingAction) return;\r\n    \r\n    try {\r\n      setLoadingAction(action);\r\n      \r\n      // Оптимистично обновляем UI\r\n      if (action === 'LIKE') {\r\n        if (!localLiked) {\r\n          setLocalLikes(prev => prev + 1);\r\n          setLocalLiked('Liked');\r\n          if (localDisliked) {\r\n            setLocalDislikes(prev => prev - 1);\r\n            setLocalDisliked(null);\r\n          }\r\n        } else {\r\n          setLocalLikes(prev => prev - 1);\r\n          setLocalLiked(null);\r\n        }\r\n      } else {\r\n        if (!localDisliked) {\r\n          setLocalDislikes(prev => prev + 1);\r\n          setLocalDisliked('Liked');\r\n          if (localLiked) {\r\n            setLocalLikes(prev => prev - 1);\r\n            setLocalLiked(null);\r\n          }\r\n        } else {\r\n          setLocalDislikes(prev => prev - 1);\r\n          setLocalDisliked(null);\r\n        }\r\n      }\r\n\r\n      await postsAPI.interactWithPost(action, post.ID);\r\n      onUpdate();\r\n    } catch (error) {\r\n      console.error('Error interacting with post:', error);\r\n      setLocalLikes(post.Likes);\r\n      setLocalDislikes(post.Dislikes);\r\n      setLocalLiked(post.Liked);\r\n      setLocalDisliked(post.Disliked);\r\n      Alert.alert('Ошибка', 'Не удалось выполнить действие');\r\n    } finally {\r\n      setLoadingAction(null);\r\n    }\r\n  };\r\n\r\n  const handleReactionPress = useCallback((type: 'like' | 'dislike') => {\r\n    // Анимация нажатия\r\n    Animated.sequence([\r\n      Animated.timing(scaleAnim, {\r\n        toValue: 0.95,\r\n        duration: 100,\r\n        useNativeDriver: false,\r\n      }),\r\n      Animated.spring(scaleAnim, {\r\n        toValue: 1,\r\n        friction: 4,\r\n        useNativeDriver: false,\r\n      }),\r\n    ]).start();\r\n\r\n    if (type === 'like') {\r\n      handleInteraction('LIKE');\r\n    } else {\r\n      handleInteraction('DISLIKE');\r\n    }\r\n  }, [scaleAnim, handleInteraction]);\r\n\r\n  const renderMediaContent = () => {\r\n    if (!post.Content) return null;\r\n\r\n    try {\r\n      const content: MediaContent = JSON.parse(post.Content);\r\n      const screenWidth = Dimensions.get('window').width - 30;\r\n\r\n      if (content.Image) {\r\n        const aspectRatio = content.Image.width / content.Image.height;\r\n        const imageHeight = screenWidth / aspectRatio;\r\n        const maxHeight = screenWidth * 0.8;\r\n\r\n        const imageUrl = content.Image.simple_image\r\n          ? `https://elemsocial.com/Content/Simple/${content.Image.simple_image}`\r\n          : `https://elemsocial.com/Content/Posts/Images/${content.Image.file_name}`;\r\n        \r\n        const filename = content.Image.orig_name || content.Image.file_name;\r\n\r\n        return (\r\n          <TouchableOpacity\r\n            onPress={() => openModal({\r\n              url: imageUrl,\r\n              type: 'image',\r\n              filename,\r\n              onClose: closeModal,\r\n              onDownload: handleDownload\r\n            })}\r\n            style={[styles.mediaContainer, { height: Math.min(imageHeight, maxHeight) }]}\r\n          >\r\n            <Image\r\n              source={{ uri: imageUrl }}\r\n              style={styles.mediaContent}\r\n              resizeMode=\"contain\"\r\n            />\r\n          </TouchableOpacity>\r\n        );\r\n      }\r\n\r\n      if (content.Video) {\r\n        const aspectRatio = content.Video.width / content.Video.height;\r\n        const videoHeight = screenWidth / aspectRatio;\r\n        const maxHeight = screenWidth * 0.8;\r\n        const videoUrl = `https://elemsocial.com/Content/Posts/Video/${content.Video.file_name}`;\r\n        const filename = content.Video.orig_name ?? content.Video.file_name;\r\n\r\n        return (\r\n          <TouchableOpacity\r\n            onPress={() => {\r\n              if (content.Video) {\r\n                openModal({\r\n                  url: videoUrl,\r\n                  type: 'video',\r\n                  filename,\r\n                  onClose: closeModal,\r\n                  onDownload: handleDownload\r\n                });\r\n              }\r\n            }}\r\n            style={[styles.mediaContainer, { height: Math.min(videoHeight, maxHeight) }]}\r\n          >\r\n            <Video\r\n              ref={videoRef}\r\n              source={{ uri: videoUrl }}\r\n              style={styles.mediaContent}\r\n              resizeMode={ResizeMode.CONTAIN}\r\n              useNativeControls\r\n              shouldPlay={false}\r\n              isLooping\r\n            />\r\n          </TouchableOpacity>\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error('Error parsing content:', error);\r\n      return null;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const renderMediaViewer = () => {\r\n    if (!mediaViewerProps) return null;\r\n\r\n    return (\r\n      <Modal\r\n        transparent\r\n        visible={modalVisible}\r\n        onRequestClose={closeModal}\r\n      >\r\n        <Animated.View \r\n          style={[\r\n            styles.modalOverlay,\r\n            {\r\n              opacity: fadeAnim,\r\n            },\r\n          ]}\r\n        >\r\n          <TouchableOpacity\r\n            style={styles.modalContent}\r\n            activeOpacity={1}\r\n            onPress={closeModal}\r\n          >\r\n            {mediaViewerProps.type === 'image' ? (\r\n              <Image\r\n                source={{ uri: mediaViewerProps.url }}\r\n                style={styles.fullScreenMedia}\r\n                resizeMode=\"contain\"\r\n              />\r\n            ) : (\r\n              <Video\r\n                ref={videoRef}\r\n                source={{ uri: mediaViewerProps.url }}\r\n                style={styles.fullScreenMedia}\r\n                resizeMode={ResizeMode.CONTAIN}\r\n                useNativeControls\r\n                shouldPlay={true}\r\n                isLooping\r\n              />\r\n            )}\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity\r\n            style={styles.closeButton}\r\n            onPress={closeModal}\r\n          >\r\n            <Text style={styles.closeButtonText}>✕</Text>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity\r\n            style={styles.downloadButton}\r\n            onPress={() => mediaViewerProps.onDownload(mediaViewerProps.url, mediaViewerProps.filename)}\r\n          >\r\n            <Image\r\n              source={require('../assets/download.png')}\r\n              style={styles.downloadIcon}\r\n            />\r\n          </TouchableOpacity>\r\n        </Animated.View>\r\n      </Modal>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (post.Avatar && post.Avatar !== 'None') {\r\n      loadAvatar();\r\n    }\r\n  }, [post.Avatar]);\r\n\r\n  const loadAvatar = async () => {\r\n    try {\r\n      if (post.Avatar && post.Avatar !== 'None') {\r\n        const url = await getImageUrl(post.Avatar);\r\n        setAvatarUrl(url);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading avatar:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.header}>\r\n        <TouchableOpacity style={styles.userInfo}>\r\n          <View style={styles.avatarContainer}>\r\n            {avatarUrl ? (\r\n              <Image\r\n                source={{ uri: avatarUrl }}\r\n                style={styles.avatar}\r\n              />\r\n            ) : (\r\n              <LetterAvatar name={post.Name || post.Username} size={40} />\r\n            )}\r\n          </View>\r\n          <View style={styles.userTextInfo}>\r\n            <View style={styles.nameContainer}>\r\n              <Text style={styles.name}>{post.Name}</Text>\r\n              {post.UserIcons && post.UserIcons.includes('VERIFY') && (\r\n                <Image\r\n                  source={require('../assets/verify.png')}\r\n                  style={styles.verifiedBadge}\r\n                />\r\n              )}\r\n            </View>\r\n            <Text style={styles.username}>@{post.Username}</Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n        <Text style={styles.date}>{formatDate(post.Date)}</Text>\r\n      </View>\r\n\r\n      <Text style={styles.text}>{post.Text}</Text>\r\n\r\n      {renderMediaContent()}\r\n      {renderMediaViewer()}\r\n\r\n      <View style={styles.footer}>\r\n        <Animated.View style={[\r\n          styles.reactions, \r\n          { transform: [{ scale: scaleAnim }] },\r\n          loadingAction ? styles.pointerEventsNone : styles.pointerEventsAuto\r\n        ]}>\r\n          <TouchableOpacity\r\n            style={[styles.reactionButton, localLiked && styles.reactionButtonActive]}\r\n            onPress={() => handleReactionPress('like')}\r\n          >\r\n            <Image\r\n              source={require('../assets/like.png')}\r\n              style={styles.reactionIcon}\r\n              tintColor={localLiked ? '#007AFF' : '#666'}\r\n              resizeMode=\"contain\"\r\n            />\r\n            <Text style={[styles.reactionCount, localLiked && styles.reactionCountActive]}>\r\n              {localLikes}\r\n            </Text>\r\n            {loadingAction === 'LIKE' && (\r\n              <Animated.View style={styles.reactionLoader}>\r\n                <ActivityIndicator\r\n                  size=\"small\"\r\n                  color={localLiked ? '#007AFF' : '#666'}\r\n                />\r\n              </Animated.View>\r\n            )}\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity\r\n            style={[styles.reactionButton, localDisliked && styles.dislikeButtonActive]}\r\n            onPress={() => handleReactionPress('dislike')}\r\n          >\r\n            <Image\r\n              source={require('../assets/dislike.png')}\r\n              style={styles.reactionIcon}\r\n              tintColor={localDisliked ? '#FF3B30' : '#666'}\r\n              resizeMode=\"contain\"\r\n            />\r\n            <Text style={[styles.reactionCount, localDisliked && styles.dislikeCountActive]}>\r\n              {localDislikes}\r\n            </Text>\r\n            {loadingAction === 'DISLIKE' && (\r\n              <Animated.View style={styles.reactionLoader}>\r\n                <ActivityIndicator\r\n                  size=\"small\"\r\n                  color={localDisliked ? '#FF3B30' : '#666'}\r\n                />\r\n              </Animated.View>\r\n            )}\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity\r\n            style={styles.reactionButton}\r\n          >\r\n            <Image\r\n              source={require('../assets/comment.png')}\r\n              style={styles.reactionIcon}\r\n              tintColor=\"#666\"\r\n              resizeMode=\"contain\"\r\n            />\r\n            <Text style={styles.reactionCount}>\r\n              {post.Comments}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </Animated.View>\r\n\r\n        {post.MyPost && (\r\n          <View style={styles.myPostBadge}>\r\n            <Text style={styles.myPostText}>Мой пост</Text>\r\n          </View>\r\n        )}\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: '#fff',\r\n    padding: 15,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 10,\r\n  },\r\n  userInfo: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    flex: 1,\r\n  },\r\n  avatarContainer: {\r\n    width: 40,\r\n    height: 40,\r\n    marginRight: 10,\r\n    borderRadius: 20,\r\n    overflow: 'hidden',\r\n    backgroundColor: '#f0f0f0',\r\n  },\r\n  avatar: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  userTextInfo: {\r\n    flex: 1,\r\n  },\r\n  nameContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 4,\r\n  },\r\n  name: {\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n    color: '#000',\r\n  },\r\n  verifiedBadge: {\r\n    width: 16,\r\n    height: 16,\r\n    marginLeft: 1,\r\n  },\r\n  username: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n  },\r\n  date: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n  },\r\n  text: {\r\n    fontSize: 16,\r\n    color: '#000',\r\n    marginBottom: 10,\r\n    lineHeight: 22,\r\n  },\r\n  mediaContainer: {\r\n    width: '100%',\r\n    backgroundColor: '#000',\r\n    borderRadius: 10,\r\n    overflow: 'hidden',\r\n    marginVertical: 5,\r\n  },\r\n  mediaContent: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  modalContent: {\r\n    width: '100%',\r\n    height: '100%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  fullScreenMedia: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    top: 40,\r\n    right: 20,\r\n    zIndex: 2,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  closeButtonText: {\r\n    color: '#fff',\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n  },\r\n  downloadButton: {\r\n    position: 'absolute',\r\n    right: 20,\r\n    bottom: 40,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    borderRadius: 25,\r\n    padding: 12,\r\n    zIndex: 1,\r\n  },\r\n  downloadIcon: {\r\n    width: 24,\r\n    height: 24,\r\n    tintColor: '#fff',\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  reactions: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    gap: 20,\r\n  },\r\n  reactionButton: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    padding: 8,\r\n    borderRadius: 20,\r\n    backgroundColor: '#f8f8f8',\r\n  },\r\n  reactionButtonActive: {\r\n    backgroundColor: '#E3F2FD',\r\n  },\r\n  dislikeButtonActive: {\r\n    backgroundColor: '#FFE5E5',\r\n  },\r\n  reactionIcon: {\r\n    width: 24,\r\n    height: 24,\r\n  },\r\n  reactionIconActive: {\r\n    tintColor: '#007AFF',\r\n  },\r\n  dislikeIconActive: {\r\n    tintColor: '#FF3B30',\r\n  },\r\n  reactionCount: {\r\n    fontSize: 15,\r\n    fontWeight: '600',\r\n    color: '#666',\r\n    marginLeft: 6,\r\n  },\r\n  reactionCountActive: {\r\n    color: '#007AFF',\r\n  },\r\n  dislikeCountActive: {\r\n    color: '#FF3B30',\r\n  },\r\n  reactionLoader: {\r\n    marginLeft: 4,\r\n  },\r\n  pointerEventsAuto: {\r\n    pointerEvents: 'auto',\r\n  },\r\n  pointerEventsNone: {\r\n    pointerEvents: 'none',\r\n  },\r\n  myPostBadge: {\r\n    backgroundColor: '#E3F2FD',\r\n    paddingHorizontal: 8,\r\n    paddingVertical: 4,\r\n    borderRadius: 12,\r\n  },\r\n  myPostText: {\r\n    fontSize: 12,\r\n    color: '#007AFF',\r\n    fontWeight: '500',\r\n  },\r\n  videoOverlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'flex-end',\r\n    padding: 10,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.4)',\r\n  },\r\n});\r\n\r\nexport default PostCard;\r\n","import React, { useState, useCallback, useEffect, useRef } from 'react';\r\nimport {\r\n  View,\r\n  FlatList,\r\n  StyleSheet,\r\n  RefreshControl,\r\n  ActivityIndicator,\r\n  Text,\r\n  TouchableOpacity,\r\n  Animated,\r\n  Platform,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\r\nimport { RootStackParamList } from '../navigation/types';\r\nimport { PostResponse, postsAPI } from '../services/api';\r\nimport PostCard from '../components/PostCard';\r\nimport { AuthContext } from '../navigation';\r\n\r\ntype FeedType = 'LATEST' | 'REC' | 'SUBSCRIPTIONS';\r\ntype FeedScreenNavigationProp = NativeStackNavigationProp<RootStackParamList>;\r\n\r\nconst POSTS_PER_PAGE = 25;\r\nconst RETRY_INTERVAL = 5000;\r\n\r\nconst FeedScreen = () => {\r\n  const navigation = useNavigation<FeedScreenNavigationProp>();\r\n  const [feedType, setFeedType] = useState<FeedType>('LATEST');\r\n  const [posts, setPosts] = useState<PostResponse[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const [hasMorePosts, setHasMorePosts] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const retryTimeoutRef = useRef<NodeJS.Timeout>();\r\n  const pageRef = useRef(0);\r\n  \r\n  // переменние анимок\r\n  const loadingOpacity = useRef(new Animated.Value(0)).current;\r\n  const contentOpacity = useRef(new Animated.Value(1)).current;\r\n\r\n  const { logout } = React.useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (retryTimeoutRef.current) {\r\n        clearTimeout(retryTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const animateLoading = useCallback((show: boolean) => {\r\n    Animated.parallel([\r\n      Animated.timing(loadingOpacity, {\r\n        toValue: show ? 1 : 0,\r\n        duration: 200,\r\n        useNativeDriver: false,\r\n      }),\r\n      Animated.timing(contentOpacity, {\r\n        toValue: show ? 0.3 : 1,\r\n        duration: 200,\r\n        useNativeDriver: false,\r\n      }),\r\n    ]).start();\r\n  }, []);\r\n\r\n  const handleLogin = useCallback(async () => {\r\n    if (retryTimeoutRef.current) {\r\n      clearTimeout(retryTimeoutRef.current);\r\n    }\r\n    try {\r\n      // виход с акка\r\n      await logout();\r\n      \r\n      // удаляем все данние при виходе с акка\r\n      setPosts([]);\r\n      setError(null);\r\n      setLoading(false);\r\n      setRefreshing(false);\r\n      setLoadingMore(false);\r\n    } catch (error) {\r\n      console.error('Error logging out:', error);\r\n    }\r\n  }, [logout]);\r\n\r\n  const fetchPosts = useCallback(async (refresh = false) => {\r\n    try {\r\n      if (!refresh && loadingMore) return;\r\n\r\n      const startIndex = refresh ? 0 : pageRef.current * POSTS_PER_PAGE;\r\n      console.log('Fetching posts:', { feedType, startIndex, refresh });\r\n\r\n      if (refresh) {\r\n        setLoading(true);\r\n        pageRef.current = 0;\r\n        // анимация загрузки\r\n        if (!error && !refreshing) {\r\n          animateLoading(true);\r\n        }\r\n      } else {\r\n        setLoadingMore(true);\r\n      }\r\n\r\n      const newPosts = await postsAPI.getPosts(feedType, startIndex);\r\n      console.log('Received posts:', newPosts.length);\r\n      \r\n      // Если в LATEST нет постов - это ошибка\r\n      if (feedType === 'LATEST' && newPosts.length === 0 && startIndex === 0) {\r\n        throw new Error('Не удалось загрузить ленту');\r\n      }\r\n      \r\n      if (refresh) {\r\n        setPosts(newPosts);\r\n      } else {\r\n        setPosts(prev => [...prev, ...newPosts]);\r\n      }\r\n      \r\n      setHasMorePosts(newPosts.length === POSTS_PER_PAGE);\r\n      if (newPosts.length === POSTS_PER_PAGE) {\r\n        pageRef.current += 1;\r\n      }\r\n      setError(null);\r\n\r\n      if (retryTimeoutRef.current) {\r\n        clearTimeout(retryTimeoutRef.current);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching posts:', error);\r\n      setError('Ошибка загрузки постов\\n\\nПопробуйте войти еще раз, перезагрузить страницу или использовать VPN');\r\n      \r\n      // Продолжат попытки загрузки только для LATEST с заддержкой\r\n      if (feedType === 'LATEST') {\r\n        if (retryTimeoutRef.current) {\r\n          clearTimeout(retryTimeoutRef.current);\r\n        }\r\n        const delay = RETRY_INTERVAL + Math.random() * 1000;\r\n        retryTimeoutRef.current = setTimeout(() => {\r\n          fetchPosts(true);\r\n        }, delay);\r\n      }\r\n    } finally {\r\n      // Убираем анимацию загрузки только если нет ошибки и не идет pull-to-refresh\r\n      if (!error && !refreshing) {\r\n        animateLoading(false);\r\n      }\r\n      setLoading(false);\r\n      setRefreshing(false);\r\n      setLoadingMore(false);\r\n    }\r\n  }, [feedType, loadingMore, error, refreshing]);\r\n\r\n  const updateSinglePost = useCallback(async (postId: string) => {\r\n    try {\r\n      const updatedPost = await postsAPI.loadPost(postId);\r\n      setPosts(prevPosts => \r\n        prevPosts.map(post => \r\n          post.ID === postId ? updatedPost : post\r\n        )\r\n      );\r\n    } catch (error) {\r\n      console.error('Error updating post:', error);\r\n    }\r\n  }, []);\r\n\r\n  // загрузк постов\r\n  useEffect(() => {\r\n    fetchPosts(true);\r\n  }, [feedType]);\r\n\r\n  const handleRefresh = useCallback(() => {\r\n    console.log('Refreshing posts...');\r\n    setRefreshing(true);\r\n    fetchPosts(true);\r\n  }, [fetchPosts]);\r\n\r\n  const handleLoadMore = useCallback(() => {\r\n    console.log('Loading more posts...');\r\n    if (hasMorePosts && !loadingMore && !refreshing) {\r\n      fetchPosts(false);\r\n    }\r\n  }, [hasMorePosts, loadingMore, refreshing, fetchPosts]);\r\n\r\n  const handleChangeFeedType = useCallback((type: FeedType) => {\r\n    if (type === feedType) return;\r\n    if (retryTimeoutRef.current) {\r\n      clearTimeout(retryTimeoutRef.current);\r\n    }\r\n    console.log('Changing feed type to:', type);\r\n    setPosts([]);\r\n    setHasMorePosts(true);\r\n    pageRef.current = 0;\r\n    setFeedType(type);\r\n  }, [feedType]);\r\n\r\n  const renderPost = useCallback(({ item }: { item: PostResponse }) => {\r\n    return (\r\n      <PostCard\r\n        post={item}\r\n        onUpdate={() => updateSinglePost(item.ID)}\r\n      />\r\n    );\r\n  }, [updateSinglePost]);\r\n\r\n  const renderHeader = useCallback(() => (\r\n    <View style={styles.feedTypeContainer}>\r\n      <TouchableOpacity\r\n        style={[styles.feedTypeButton, feedType === 'LATEST' && styles.activeFeedType]}\r\n        onPress={() => handleChangeFeedType('LATEST')}\r\n      >\r\n        <Text style={[styles.feedTypeText, feedType === 'LATEST' && styles.activeFeedTypeText]}>\r\n          Новые\r\n        </Text>\r\n      </TouchableOpacity>\r\n      <TouchableOpacity\r\n        style={[styles.feedTypeButton, feedType === 'REC' && styles.activeFeedType]}\r\n        onPress={() => handleChangeFeedType('REC')}\r\n      >\r\n        <Text style={[styles.feedTypeText, feedType === 'REC' && styles.activeFeedTypeText]}>\r\n          Рекомендации\r\n        </Text>\r\n      </TouchableOpacity>\r\n      <TouchableOpacity\r\n        style={[styles.feedTypeButton, feedType === 'SUBSCRIPTIONS' && styles.activeFeedType]}\r\n        onPress={() => handleChangeFeedType('SUBSCRIPTIONS')}\r\n      >\r\n        <Text style={[styles.feedTypeText, feedType === 'SUBSCRIPTIONS' && styles.activeFeedTypeText]}>\r\n          Подписки\r\n        </Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  ), [feedType, handleChangeFeedType]);\r\n\r\n  const renderError = useCallback(() => {\r\n    if (!error) return null;\r\n    return (\r\n      <View style={styles.errorContainer}>\r\n        <Text style={styles.errorText}>{error}</Text>\r\n        <TouchableOpacity style={styles.retryButton} onPress={() => fetchPosts(true)}>\r\n          <Text style={styles.retryButtonText}>Повторить</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity style={styles.loginButton} onPress={handleLogin}>\r\n          <Text style={styles.loginButtonText}>Войти заново</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n  }, [error, handleLogin]);\r\n\r\n  const renderEmpty = useCallback(() => {\r\n    if (loading) return null;\r\n    return (\r\n      <View style={styles.emptyContainer}>\r\n        <Text style={styles.emptyText}>\r\n          {error ? '' : 'Нет постов'}\r\n        </Text>\r\n      </View>\r\n    );\r\n  }, [loading, error]);\r\n\r\n  const renderFooter = useCallback(() => {\r\n    if (!loadingMore) return null;\r\n    return (\r\n      <View style={styles.footer}>\r\n        <ActivityIndicator size=\"small\" color=\"#007AFF\" />\r\n      </View>\r\n    );\r\n  }, [loadingMore]);\r\n\r\n  if (loading && posts.length === 0) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <View style={styles.loadingContainer}>\r\n          <ActivityIndicator size=\"large\" color=\"#007AFF\" />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {renderHeader()}\r\n      \r\n      <View style={styles.contentContainer}>\r\n        <Animated.View style={[\r\n          styles.loadingOverlay, \r\n          { \r\n            opacity: loadingOpacity,\r\n          },\r\n          loading ? styles.pointerEventsAuto : styles.pointerEventsNone\r\n        ]}>\r\n          <ActivityIndicator size=\"large\" color=\"#007AFF\" />\r\n        </Animated.View>\r\n\r\n        <Animated.View style={[\r\n          styles.content, \r\n          { \r\n            opacity: contentOpacity,\r\n          },\r\n          loading ? styles.pointerEventsNone : styles.pointerEventsAuto\r\n        ]}>\r\n          <FlatList\r\n            data={posts}\r\n            renderItem={renderPost}\r\n            keyExtractor={item => `${feedType}_${item.ID}`}\r\n            onEndReached={handleLoadMore}\r\n            onEndReachedThreshold={0.5}\r\n            refreshControl={\r\n              <RefreshControl\r\n                refreshing={refreshing}\r\n                onRefresh={handleRefresh}\r\n                colors={['#007AFF']}\r\n                tintColor=\"#007AFF\"\r\n              />\r\n            }\r\n            ListEmptyComponent={renderEmpty}\r\n            ListFooterComponent={renderFooter}\r\n            contentContainerStyle={styles.listContent}\r\n          />\r\n        </Animated.View>\r\n      </View>\r\n\r\n      {renderError()}\r\n    </View>\r\n  );\r\n};\r\n\r\n// все стили ну тут и так понятно\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    position: 'relative',\r\n  },\r\n  loadingContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  feedTypeContainer: {\r\n    flexDirection: 'row',\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 10,\r\n    backgroundColor: '#fff',\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n    zIndex: 1,\r\n    ...Platform.select({\r\n      ios: {\r\n        shadowColor: '#000',\r\n        shadowOffset: { width: 0, height: 1 },\r\n        shadowOpacity: 0.1,\r\n        shadowRadius: 1,\r\n      },\r\n      android: {\r\n        elevation: 2,\r\n      },\r\n    }),\r\n  },\r\n  feedTypeButton: {\r\n    flex: 1,\r\n    paddingVertical: 8,\r\n    alignItems: 'center',\r\n    borderRadius: 20,\r\n    marginHorizontal: 4,\r\n  },\r\n  activeFeedType: {\r\n    backgroundColor: '#E3F2FD',\r\n  },\r\n  feedTypeText: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n    color: '#666',\r\n  },\r\n  activeFeedTypeText: {\r\n    color: '#007AFF',\r\n  },\r\n  content: {\r\n    flex: 1,\r\n  },\r\n  listContent: {\r\n    flexGrow: 1,\r\n  },\r\n  loadingOverlay: {\r\n    ...StyleSheet.absoluteFillObject,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.8)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  pointerEventsAuto: {\r\n    pointerEvents: 'auto',\r\n  },\r\n  pointerEventsNone: {\r\n    pointerEvents: 'none',\r\n  },\r\n  footer: {\r\n    padding: 20,\r\n    alignItems: 'center',\r\n  },\r\n  errorContainer: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    padding: 20,\r\n    backgroundColor: '#fff',\r\n    borderTopWidth: 1,\r\n    borderTopColor: '#eee',\r\n    alignItems: 'center',\r\n  },\r\n  errorText: {\r\n    fontSize: 14,\r\n    color: '#FF3B30',\r\n    textAlign: 'center',\r\n    marginBottom: 15,\r\n  },\r\n  retryButton: {\r\n    backgroundColor: '#007AFF',\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n    borderRadius: 20,\r\n    marginBottom: 10,\r\n  },\r\n  retryButtonText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n  loginButton: {\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 20,\r\n  },\r\n  loginButtonText: {\r\n    color: '#007AFF',\r\n    fontSize: 16,\r\n  },\r\n  emptyContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  emptyText: {\r\n    fontSize: 16,\r\n    color: '#666',\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nexport default FeedScreen;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  Image,\r\n  StyleSheet,\r\n  TouchableOpacity,\r\n  ActivityIndicator,\r\n  Platform,\r\n  Alert,\r\n  RefreshControl,\r\n  FlatList,\r\n  Linking,\r\n  Dimensions,\r\n} from 'react-native';\r\nimport { profileAPI, getImageUrl, postsAPI, ProfileData } from '../services/api';\r\nimport LetterAvatar from '../components/LetterAvatar';\r\nimport { AuthContext } from '../navigation';\r\nimport PostCard from '../components/PostCard';\r\nimport { PostResponse } from '../services/api';\r\nimport Icon from 'react-native-vector-icons/MaterialCommunityIcons';\r\n\r\nconst POSTS_PER_PAGE = 10;\r\nconst { width } = Dimensions.get('window');\r\n\r\ninterface ProfileScreenProps {\r\n  username?: string;\r\n}\r\n\r\nconst ProfileScreen: React.FC<ProfileScreenProps> = ({ username }) => {\r\n  const { logout } = useContext(AuthContext);\r\n  const [profile, setProfile] = useState<ProfileData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [avatarUrl, setAvatarUrl] = useState<string | null>(null);\r\n  const [coverUrl, setCoverUrl] = useState<string | null>(null);\r\n  const [iconUrls, setIconUrls] = useState<string[]>([]);\r\n  const [posts, setPosts] = useState<PostResponse[]>([]);\r\n  const [loadingPosts, setLoadingPosts] = useState(false);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const [hasMorePosts, setHasMorePosts] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n  }, [username]);\r\n\r\n  const loadIcons = async (icons: string[]) => {\r\n    const loadedUrls: string[] = [];\r\n    for (const icon of icons) {\r\n      try {\r\n        const url = await getImageUrl(icon);\r\n        loadedUrls.push(url);\r\n      } catch (error) {\r\n        console.error('Error loading icon:', error);\r\n      }\r\n    }\r\n    setIconUrls(loadedUrls);\r\n  };\r\n\r\n  const fetchProfile = async () => {\r\n    try {\r\n      setLoading(true);\r\n      let data;\r\n      \r\n      if (username) {\r\n        data = await profileAPI.getProfile(username);\r\n      } else {\r\n        data = await profileAPI.getMyProfile();\r\n      }\r\n      \r\n      setProfile(data);\r\n      \r\n      if (data.avatar && data.avatar !== 'None') {\r\n        try {\r\n          const url = await getImageUrl(data.avatar);\r\n          setAvatarUrl(url);\r\n        } catch (error) {\r\n          console.error('Error loading avatar:', error);\r\n        }\r\n      }\r\n\r\n      if (data.cover && data.cover !== 'None') {\r\n        try {\r\n          const url = await getImageUrl(data.cover);\r\n          setCoverUrl(url);\r\n        } catch (error) {\r\n          console.error('Error loading cover:', error);\r\n        }\r\n      }\r\n\r\n      if (data.icons && data.icons.length > 0) {\r\n        loadIcons(data.icons);\r\n      }\r\n      \r\n      if (data.id) {\r\n        fetchUserPosts(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching profile:', error);\r\n      Alert.alert(\r\n        'Ошибка',\r\n        'Не удалось загрузить профиль. Проверьте подключение к интернету или попробуйте войти заново.'\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchUserPosts = async (refresh = false) => {\r\n    if (!profile?.id || (!refresh && loadingPosts)) return;\r\n\r\n    try {\r\n      setLoadingPosts(true);\r\n      const startIndex = refresh ? 0 : posts.length;\r\n      const newPosts = await postsAPI.getUserPosts(profile.id.toString(), startIndex);\r\n      \r\n      if (refresh) {\r\n        setPosts(newPosts);\r\n      } else {\r\n        setPosts(prev => [...prev, ...newPosts]);\r\n      }\r\n      \r\n      setHasMorePosts(newPosts.length === POSTS_PER_PAGE);\r\n    } catch (error) {\r\n      console.error('Error fetching user posts:', error);\r\n      Alert.alert('Ошибка', 'Не удалось загрузить посты');\r\n    } finally {\r\n      setLoadingPosts(false);\r\n      setRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const handleRefresh = () => {\r\n    setRefreshing(true);\r\n    fetchProfile();\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    if (hasMorePosts && !loadingPosts) {\r\n      fetchUserPosts();\r\n    }\r\n  };\r\n\r\n  const handlePostUpdate = () => {\r\n    fetchUserPosts(true);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout();\r\n    } catch (error) {\r\n      console.error('Error logging out:', error);\r\n      Alert.alert('Ошибка', 'Не удалось выйти из аккаунта');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={styles.centered}>\r\n        <ActivityIndicator size=\"large\" color=\"#007AFF\" />\r\n      </View>\r\n    );\r\n  }\r\n\r\n  if (!profile) {\r\n    return (\r\n      <View style={styles.centered}>\r\n        <Text>Не удалось загрузить профиль</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  const renderPost = ({ item }: { item: PostResponse }) => (\r\n    <PostCard post={item} onUpdate={handlePostUpdate} />\r\n  );\r\n\r\n  const renderFooter = () => {\r\n    if (!loadingPosts) return null;\r\n    return (\r\n      <View style={styles.footer}>\r\n        <ActivityIndicator size=\"small\" color=\"#007AFF\" />\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const renderStats = () => {\r\n    const stats = [\r\n      { label: 'Посты', value: profile.posts },\r\n      { label: 'Подписчики', value: profile.subscribers },\r\n      { label: 'Подписки', value: profile.subscriptions }\r\n    ];\r\n\r\n    return (\r\n      <View style={styles.stats}>\r\n        {stats.map((stat, index) => (\r\n          <View key={stat.label} style={styles.statItem}>\r\n            <Text style={styles.statNumber}>\r\n              {stat.value?.toLocaleString() || '0'}\r\n            </Text>\r\n            <Text style={styles.statLabel}>{stat.label}</Text>\r\n          </View>\r\n        ))}\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const renderHeader = () => (\r\n    <View style={styles.headerContainer}>\r\n      {/* Cover Image */}\r\n      <View style={styles.coverContainer}>\r\n        {coverUrl ? (\r\n          <Image \r\n            source={{ uri: coverUrl }}\r\n            style={styles.coverImage}\r\n            resizeMode=\"cover\"\r\n          />\r\n        ) : (\r\n          <View style={[styles.coverImage, styles.defaultCover]} />\r\n        )}\r\n      </View>\r\n\r\n      {/* Profile Info */}\r\n      <View style={styles.profileInfo}>\r\n        <View style={styles.avatarWrapper}>\r\n          {avatarUrl ? (\r\n            <Image \r\n              source={{ uri: avatarUrl }}\r\n              style={styles.avatar}\r\n            />\r\n          ) : (\r\n            <LetterAvatar \r\n              name={profile?.name || profile?.username || 'Пользователь'} \r\n              size={100}\r\n            />\r\n          )}\r\n        </View>\r\n\r\n        <View style={styles.nameContainer}>\r\n          <Text style={styles.name}>{profile?.name || 'Без имени'}</Text>\r\n          <Text style={styles.username}>@{profile?.username}</Text>\r\n          {profile?.description && (\r\n            <Text style={styles.description}>{profile.description}</Text>\r\n          )}\r\n        </View>\r\n\r\n        {renderStats()}\r\n\r\n        {profile?.icons && profile.icons.length > 0 && (\r\n          <View style={styles.iconsContainer}>\r\n            {iconUrls.map((iconUrl, index) => (\r\n              <Image \r\n                key={index}\r\n                source={{ uri: iconUrl }}\r\n                style={styles.icon}\r\n              />\r\n            ))}\r\n          </View>\r\n        )}\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <FlatList\r\n        data={posts}\r\n        renderItem={renderPost}\r\n        keyExtractor={item => item.ID}\r\n        onEndReached={handleLoadMore}\r\n        onEndReachedThreshold={0.5}\r\n        refreshControl={\r\n          <RefreshControl refreshing={refreshing} onRefresh={handleRefresh} />\r\n        }\r\n        ListHeaderComponent={renderHeader}\r\n        ListFooterComponent={renderFooter}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  centered: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  headerContainer: {\r\n    width: '100%',\r\n  },\r\n  coverContainer: {\r\n    width: '100%',\r\n    height: 200,\r\n    backgroundColor: '#f0f0f0',\r\n  },\r\n  coverImage: {\r\n    width: '100%',\r\n    height: 200,\r\n  },\r\n  defaultCover: {\r\n    backgroundColor: '#e1e1e1',\r\n  },\r\n  profileInfo: {\r\n    padding: 15,\r\n    marginTop: -50,\r\n  },\r\n  avatarWrapper: {\r\n    marginBottom: 10,\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    width: 100,\r\n    height: 100,\r\n    borderRadius: 50,\r\n    borderWidth: 4,\r\n    borderColor: '#fff',\r\n  },\r\n  nameContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 15,\r\n  },\r\n  name: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n    marginBottom: 4,\r\n  },\r\n  username: {\r\n    fontSize: 16,\r\n    color: '#666',\r\n    marginBottom: 8,\r\n  },\r\n  description: {\r\n    fontSize: 14,\r\n    color: '#444',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  stats: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    paddingVertical: 15,\r\n    borderTopWidth: 1,\r\n    borderBottomWidth: 1,\r\n    borderColor: '#eee',\r\n    marginVertical: 15,\r\n  },\r\n  statItem: {\r\n    alignItems: 'center',\r\n  },\r\n  statNumber: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n  },\r\n  statLabel: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n    marginTop: 4,\r\n  },\r\n  iconsContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n    marginTop: 10,\r\n  },\r\n  icon: {\r\n    width: 24,\r\n    height: 24,\r\n    marginHorizontal: 4,\r\n  },\r\n  footer: {\r\n    padding: 10,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nexport default ProfileScreen;\r\n","import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport LoginScreen from '../screens/LoginScreen';\r\nimport FeedScreen from '../screens/FeedScreen';\r\nimport ProfileScreen from '../screens/ProfileScreen';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst Tab = createBottomTabNavigator();\r\nconst Stack = createNativeStackNavigator();\r\n\r\nexport const AuthContext = createContext<{\r\n  isLoggedIn: boolean;\r\n  setIsLoggedIn: (value: boolean) => void;\r\n  logout: () => Promise<void>;\r\n}>({\r\n  isLoggedIn: false,\r\n  setIsLoggedIn: () => {},\r\n  logout: async () => {},\r\n});\r\n\r\nconst MainTabs = () => {\r\n  return (\r\n    <Tab.Navigator\r\n      screenOptions={{\r\n        tabBarActiveTintColor: '#007AFF',\r\n        tabBarInactiveTintColor: '#8E8E93',\r\n        tabBarStyle: {\r\n          backgroundColor: '#FFFFFF',\r\n          borderTopWidth: 1,\r\n          borderTopColor: '#E5E5EA',\r\n        },\r\n        headerStyle: {\r\n          backgroundColor: '#FFFFFF',\r\n        },\r\n        headerTitleStyle: {\r\n          color: '#000000',\r\n          fontSize: 17,\r\n          fontWeight: '600',\r\n        },\r\n      }}\r\n    >\r\n      <Tab.Screen\r\n        name=\"Feed\"\r\n        component={FeedScreen}\r\n        options={{\r\n          title: 'Главная',\r\n          tabBarIcon: ({ color, size }) => (\r\n            <Ionicons name=\"home-outline\" size={size} color={color} />\r\n          ),\r\n          headerTitle: 'Главная',\r\n        }}\r\n      />\r\n      <Tab.Screen\r\n        name=\"Profile\"\r\n        component={ProfileScreen}\r\n        options={({ navigation }) => ({\r\n          title: 'Мой профиль',\r\n          tabBarIcon: ({ color, size }) => (\r\n            <Ionicons name=\"person-outline\" size={size} color={color} />\r\n          ),\r\n          headerTitle: 'Мой профиль',\r\n          headerRight: () => {\r\n            const { logout } = useContext(AuthContext);\r\n            return (\r\n              <Ionicons\r\n                name=\"log-out-outline\"\r\n                size={24}\r\n                color=\"#ff3b30\"\r\n                style={{ marginRight: 15 }}\r\n                onPress={logout}\r\n              />\r\n            );\r\n          },\r\n        })}\r\n      />\r\n    </Tab.Navigator>\r\n  );\r\n};\r\n\r\nconst Navigation = () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    checkLoginStatus();\r\n  }, []);\r\n\r\n  const checkLoginStatus = async () => {\r\n    await AsyncStorage.clear();\r\n    const sKey = await AsyncStorage.getItem('S-KEY');\r\n    setIsLoggedIn(!!sKey);\r\n  };\r\n\r\n  const logout = async () => {\r\n    await AsyncStorage.removeItem('S-KEY');\r\n    setIsLoggedIn(false);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ isLoggedIn, setIsLoggedIn, logout }}>\r\n      <NavigationContainer>\r\n        <Stack.Navigator screenOptions={{ headerShown: false }}>\r\n          {!isLoggedIn ? (\r\n            <Stack.Screen name=\"Auth\" component={LoginScreen} />\r\n          ) : (\r\n            <Stack.Screen name=\"Main\" component={MainTabs} />\r\n          )}\r\n        </Stack.Navigator>\r\n      </NavigationContainer>\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import './src/utils/disableWarnings';\r\nimport React, { useCallback, useEffect } from 'react';\r\nimport Navigation from './src/navigation';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport { View, StyleSheet } from 'react-native';\r\n\r\nexport default function App() {\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      // Очищаем localStorage браузера при запуске\r\n      window.localStorage.clear();\r\n    }\r\n  }, []);\r\n\r\n  const renderNavigation = useCallback(() => <Navigation />, []);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <StatusBar style=\"auto\" />\r\n      {renderNavigation()}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n});\r\n","import { registerRootComponent } from 'expo';\r\n\r\nimport App from './App';\r\n\r\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\r\n// It also ensures that whether you load the app in Expo Go or in a native build,\r\n// the environment is set up appropriately\r\nregisterRootComponent(App);\r\n","const originalConsoleError = console.error;\r\n\r\nconsole.error = (...args: any[]) => {\r\n  if (args[0]?.includes?.('Warning: Encountered two children with the same key')) {\r\n    return;\r\n  }\r\n  originalConsoleError.apply(console, args);\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/KirixElemClient/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [119], () => (__webpack_require__(4103)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","authApi","axios","create","baseURL","headers","postsApi","systemApi","interceptors","request","use","async","sKey","AsyncStorage","getItem","config","response","error","status","removeItem","Promise","reject","getImageUrl","path","authAPI","email","password","formData","FormData","append","post","data","profileAPI","getMyProfile","get","type","id","parseInt","ID","name","Name","username","Username","cover","Cover","avatar","Avatar","description","Description","posts","Posts","subscribers","Subscribers","subscribed","Subscribed","create_date","CreateDate","icons","Icons","split","subscriptions","Subscriptions","links_count","LinksCount","links","Links","my_profile","permissions","Posts_Permission","comments","Comments_Permission","new_chats","NewChats_Permission","music_upload","MusicUpload_Permission","getProfile","Error","updateProfile","Object","entries","forEach","key","value","String","uploadAvatar","file","uploadCover","postsAPI","postId","startIndex","toString","url","postsArray","Array","isArray","map","AuthorID","UserIcons","Text","Content","Date","Likes","Number","Dislikes","Liked","Disliked","Comments","MyPost","Boolean","isAxiosError","userId","undefined","action","styles","StyleSheet","container","flex","justifyContent","padding","backgroundColor","title","fontSize","fontWeight","marginBottom","textAlign","input","assign","height","borderWidth","borderColor","borderRadius","paddingHorizontal","outlineStyle","buttonContainer","pointerEvents","button","alignItems","cursor","buttonDisabled","buttonText","color","LoginScreen","useNavigation","setIsLoggedIn","useContext","AuthContext","setEmail","useState","setPassword","loading","setLoading","_jsxs","View","style","children","_jsx","TextInput","placeholder","onChangeText","autoCapitalize","keyboardType","editable","secureTextEntry","TouchableOpacity","onPress","test","trim","S_KEY","setItem","Alert","alert","disabled","ActivityIndicator","colorPairs","bg","text","LetterAvatar","size","letter","charAt","toUpperCase","colorIndex","Math","abs","reduce","acc","char","charCodeAt","length","colors","width","overflow","textAlignVertical","borderBottomWidth","borderBottomColor","header","flexDirection","userInfo","avatarContainer","marginRight","userTextInfo","nameContainer","gap","verifiedBadge","marginLeft","date","lineHeight","mediaContainer","marginVertical","mediaContent","modalOverlay","modalContent","fullScreenMedia","closeButton","position","top","right","zIndex","closeButtonText","downloadButton","bottom","downloadIcon","tintColor","footer","reactions","reactionButton","reactionButtonActive","dislikeButtonActive","reactionIcon","reactionIconActive","dislikeIconActive","reactionCount","reactionCountActive","dislikeCountActive","reactionLoader","pointerEventsAuto","pointerEventsNone","myPostBadge","paddingVertical","myPostText","videoOverlay","left","PostCard","onUpdate","loadingAction","setLoadingAction","localLikes","setLocalLikes","localDislikes","setLocalDislikes","localLiked","setLocalLiked","localDisliked","setLocalDisliked","avatarUrl","setAvatarUrl","scaleAnim","Animated","Value","modalVisible","setModalVisible","fadeAnim","useRef","current","mediaViewerProps","setMediaViewerProps","videoRef","handleDownload","filename","a","document","createElement","href","download","body","appendChild","click","removeChild","openModal","props","timing","toValue","duration","useNativeDriver","start","closeModal","formatDate","useCallback","dateString","format","locale","ru","handleInteraction","prev","handleReactionPress","sequence","spring","friction","useEffect","loadAvatar","Image","source","uri","includes","require","renderMediaContent","content","JSON","parse","screenWidth","Dimensions","imageHeight","maxHeight","imageUrl","simple_image","file_name","orig_name","onClose","onDownload","min","resizeMode","Video","videoHeight","videoUrl","ref","ResizeMode","CONTAIN","useNativeControls","shouldPlay","isLooping","Modal","transparent","visible","onRequestClose","opacity","activeOpacity","transform","scale","contentContainer","loadingContainer","feedTypeContainer","feedTypeButton","marginHorizontal","activeFeedType","feedTypeText","activeFeedTypeText","listContent","flexGrow","loadingOverlay","absoluteFillObject","errorContainer","borderTopWidth","borderTopColor","errorText","retryButton","retryButtonText","loginButton","loginButtonText","emptyContainer","emptyText","FeedScreen","feedType","setFeedType","setPosts","refreshing","setRefreshing","loadingMore","setLoadingMore","hasMorePosts","setHasMorePosts","setError","retryTimeoutRef","pageRef","loadingOpacity","contentOpacity","logout","React","clearTimeout","animateLoading","show","parallel","handleLogin","fetchPosts","refresh","newPosts","delay","random","setTimeout","updateSinglePost","updatedPost","prevPosts","handleRefresh","handleLoadMore","handleChangeFeedType","renderPost","item","renderHeader","renderError","renderEmpty","renderFooter","FlatList","renderItem","keyExtractor","onEndReached","onEndReachedThreshold","refreshControl","RefreshControl","onRefresh","ListEmptyComponent","ListFooterComponent","contentContainerStyle","centered","headerContainer","coverContainer","coverImage","defaultCover","profileInfo","marginTop","avatarWrapper","stats","statItem","statNumber","statLabel","iconsContainer","flexWrap","icon","ProfileScreen","profile","setProfile","coverUrl","setCoverUrl","iconUrls","setIconUrls","loadingPosts","setLoadingPosts","fetchProfile","loadedUrls","push","loadIcons","fetchUserPosts","handlePostUpdate","renderStats","label","stat","index","toLocaleString","ListHeaderComponent","iconUrl","Tab","createBottomTabNavigator","Stack","createNativeStackNavigator","createContext","isLoggedIn","MainTabs","Navigator","screenOptions","tabBarActiveTintColor","tabBarInactiveTintColor","tabBarStyle","headerStyle","headerTitleStyle","Screen","component","options","tabBarIcon","Ionicons","headerTitle","navigation","headerRight","Navigation","checkLoginStatus","clear","Provider","NavigationContainer","headerShown","registerRootComponent","window","localStorage","renderNavigation","StatusBar","originalConsoleError","console","args","apply","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}